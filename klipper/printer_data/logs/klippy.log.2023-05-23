===== Config file =====
[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 8000
max_accel_to_decel = 3000
max_z_velocity = 15
max_z_accel = 100
square_corner_velocity = 3.0

[virtual_sdcard]
path = /home/mks/printer_data/gcodes

[pause_resume]

[display_status]

[idle_timeout]
gcode = 
	RESPOND TYPE=echo MSG="No operations in 10min!"
timeout = 600

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None
spi_bus = spidev0.0

[verify_heater extruder]
max_error = 60
check_gain_time = 20
hysteresis = 5
heating_gain = 2

[verify_heater heater_bed]
max_error = 60
check_gain_time = 40
hysteresis = 5
heating_gain = 2

[resonance_tester]
accel_chip = adxl345
probe_points = 
	115, 115, 20
accel_per_hz = 50
min_freq = 1
max_freq = 100
max_smoothing = 0.2
hz_per_sec = 0.5

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	TURN_OFF_HEATERS
	CANCEL_PRINT_BASE
	RESPOND TYPE=echo MSG="Cancel Print Success!"
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210 F6000
	M84 X Y E

[gcode_macro START_PRINT]
gcode = 
	M84 E
	G90
	G92 E0
	G1 E-1
	G92 E0
	G28
	BED_MESH_PROFILE LOAD=default
	
	G92 E0
	G1 Z1.0 F3000
	G1 X0.1 Y20 Z0.3 F5000.0
	G1 X0.1 Y100.0 Z0.3 F500.0 E15
	G1 X0.4 Y100.0 Z0.3 F5000.0
	G1 X0.4 Y20 Z0.3 F500.0 E30
	G92 E0
	G1 Z1.0 F3000

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	RESPOND TYPE=echo MSG="Pause Print!"
	
	{% set x = params.X|default(10) %}
	{% set y = params.Y|default(210) %}
	{% set z = params.Z|default(10)|float %}
	{% set e = params.E|default(1) %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% set lift_z = z|abs %}
	{% if act_z < (max_z - lift_z) %}
	{% set z_safe = lift_z %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{e} F500
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe}
	G90
	G1 X{x} Y{y} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	RESPOND TYPE=echo MSG="RESUME Print!"
	
	{% if True %}
	{% set e = params.E|default(1) %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E{e} F400
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 X5 Y5 F3000
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210
	
	M84 X Y E
	RESPOND TYPE=echo MSG="Finish Print!"

[gcode_macro LOAD_FILAMENT]
gcode = 
	G91
	G1 E30 F300
	G1 E10 F150
	G90

[gcode_macro UNLOAD_FILAMENT]
gcode = 
	G91
	G1 E-30 F300
	G90

[gcode_macro LED_ON]
gcode = 
	SET_PIN PIN=my_led VALUE=1

[gcode_macro LED_OFF]
gcode = 
	SET_PIN PIN=my_led VALUE=0

[stepper_x]
step_pin = PD15
dir_pin = PD14
enable_pin = !PC7
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_x: virtual_endstop
homing_retract_dist = 0
position_endstop = -16
position_min = -16
position_max = 225
homing_speed = 90
step_pulse_duration = 0.000004

[tmc2209 stepper_x]
uart_pin = PE3
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 123
stealthchop_threshold = 999999
diag_pin = ^PD10

[stepper_y]
step_pin = PB7
dir_pin = PB6
enable_pin = !PB9
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_y: virtual_endstop
homing_retract_dist = 0
position_endstop = -2
position_min = -2
position_max = 225
homing_speed = 60
step_pulse_duration = 0.000004

[tmc2209 stepper_y]
uart_pin = PE4
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 110
stealthchop_threshold = 999999
diag_pin = ^PE0

[stepper_z]
step_pin = PB3
dir_pin = !PD7
enable_pin = !PB5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 253
position_min = -3
homing_speed = 5

[stepper_z1]
step_pin = PA7
dir_pin = !PA6
enable_pin = !PC5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop

[extruder]
max_extrude_only_distance = 100.0
step_pin = PD1
dir_pin = !PD0
enable_pin = !PD4
microsteps = 16
rotation_distance = 4.59
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA4
control = pid
pressure_advance = 0.02
pressure_advance_smooth_time = 0.035
pid_kp = 24.522
pid_ki = 1.397
pid_kd = 107.590
min_temp = 0
max_temp = 300
min_extrude_temp = 150

[tmc2209 extruder]
uart_pin = PE7
run_current = 0.6
uart_address = 3
interpolate = True
stealthchop_threshold = 400

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA3
control = pid
pid_kp = 54.027
pid_ki = 0.770
pid_kd = 948.182
min_temp = 0
max_temp = 130

[probe]
pin = PD13
x_offset = 27
y_offset = -20
z_offset = 1.000

[filament_switch_sensor my_sensor]
switch_pin = PD11

[safe_z_home]
home_xy_position = 83,130
speed = 100
z_hop = 5
z_hop_speed = 5

[z_tilt]
z_positions = -16, 135
	180, 135
points = -16, 135
	180, 135
speed = 200
horizontal_move_z = 5
retries = 20
retry_tolerance = .005

[bed_mesh]
speed = 200
horizontal_move_z = 5
mesh_min = 11,12
mesh_max = 210,205
probe_count = 5,5
algorithm = bicubic
bicubic_tension = 0.3
mesh_pps = 4,4
move_check_distance = 3

[screws_tilt_adjust]
screw1 = -1, 45
screw1_name = front left screw
screw2 = 168, 45
screw2_name = front right screw
screw3 = 168, 215
screw3_name = rear right screw
screw4 = -1, 215
screw4_name = rear left screw
horizontal_move_z = 5.
speed = 200.
screw_thread = CW-M4

[heater_fan hotend_fan]
pin = PE11

[fan]
pin = PE9

[output_pin my_led]
pin = PC4
pwm = 1
value = 1
cycle_time = 5

[fan_generic extruder_partfan]
pin = PE13

[controller_fan Fan_Board]
pin = PD3
fan_speed = 1.0
idle_timeout = 120
heater = heater_bed, extruder
stepper = stepper_x, stepper_y, stepper_z, stepper_z1

[input_shaper]
damping_ratio_x = 0.1
damping_ratio_y = 0.1
shaper_type_x = 2hump_ei
shaper_freq_x = 43.4
shaper_type_y = 2hump_ei
shaper_freq_y = 43.4
=======================
Args: ['/home/mks/klipper/klippy/klippy.py', '/home/mks/printer_data/config/printer.cfg', '-I', '/home/mks/printer_data/comms/klippy.serial', '-l', '/home/mks/printer_data/logs/klippy.log', '-a', '/home/mks/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-122-ge6ef48cd'
CPU: 4 core ?
Python: '3.7.3 (default, Oct 31 2022, 14:04:00) \n[GCC 8.3.0]'
webhooks client 281473507523328: {'program': 'Moonraker', 'version': 'v0.8.0-23-g18f5ff4-dirty'}
=============== Log rollover at Tue May 23 19:35:15 2023 ===============
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
MCU error during connect
Traceback (most recent call last):
  File "/home/mks/klipper/klippy/mcu.py", line 798, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/mks/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/mks/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/mks/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/mks/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/mks/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/mks/klipper/klippy/mcu.py", line 803, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/mks/klipper/klippy/../.config(3223): Sun Mar  5 17:11:05 2023
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
# CONFIG_MACH_AVR is not set
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
CONFIG_MACH_STM32=y
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_BOARD_DIRECTORY="stm32"
CONFIG_MCU="stm32f407xx"
CONFIG_CLOCK_FREQ=168000000
CONFIG_USBSERIAL=y
CONFIG_FLASH_SIZE=0x80000
CONFIG_FLASH_BOOT_ADDRESS=0x8000000
CONFIG_RAM_START=0x20000000
CONFIG_RAM_SIZE=0x20000
CONFIG_STACK_SIZE=512
CONFIG_FLASH_APPLICATION_ADDRESS=0x800C000
CONFIG_STM32_SELECT=y
# CONFIG_MACH_STM32F103 is not set
# CONFIG_MACH_STM32F207 is not set
# CONFIG_MACH_STM32F401 is not set
# CONFIG_MACH_STM32F405 is not set
CONFIG_MACH_STM32F407=y
# CONFIG_MACH_STM32F429 is not set
# CONFIG_MACH_STM32F446 is not set
# CONFIG_MACH_STM32F031 is not set
# CONFIG_MACH_STM32F042 is not set
# CONFIG_MACH_STM32F070 is not set
# CONFIG_MACH_STM32F072 is not set
# CONFIG_MACH_STM32G070 is not set
# CONFIG_MACH_STM32G071 is not set
# CONFIG_MACH_STM32G0B0 is not set
# CONFIG_MACH_STM32G0B1 is not set
# CONFIG_MACH_STM32G431 is not set
# CONFIG_MACH_STM32H723 is not set
# CONFIG_MACH_STM32H743 is not set
# CONFIG_MACH_STM32H750 is not set
# CONFIG_MACH_STM32L412 is not set
CONFIG_MACH_STM32F4=y
CONFIG_MACH_STM32F4x5=y
CONFIG_HAVE_STM32_USBOTG=y
CONFIG_HAVE_STM32_CANBUS=y
CONFIG_HAVE_STM32_USBCANBUS=y
CONFIG_STM32_DFU_ROM_ADDRESS=0x1fff0000
# CONFIG_STM32_FLASH_START_8000 is not set
# CONFIG_STM32_FLASH_START_20200 is not set
CONFIG_STM32_FLASH_START_C000=y
# CONFIG_STM32_FLASH_START_4000 is not set
# CONFIG_STM32_FLASH_START_0000 is not set
CONFIG_STM32_CLOCK_REF_8M=y
# CONFIG_STM32_CLOCK_REF_12M is not set
# CONFIG_STM32_CLOCK_REF_16M is not set
# CONFIG_STM32_CLOCK_REF_20M is not set
# CONFIG_STM32_CLOCK_REF_25M is not set
# CONFIG_STM32_CLOCK_REF_INTERNAL is not set
CONFIG_CLOCK_REF_FREQ=8000000
CONFIG_STM32F0_TRIM=16
CONFIG_STM32_USB_PA11_PA12=y
# CONFIG_STM32_SERIAL_USART1 is not set
# CONFIG_STM32_SERIAL_USART1_ALT_PB7_PB6 is not set
# CONFIG_STM32_SERIAL_USART2 is not set
# CONFIG_STM32_SERIAL_USART2_ALT_PD6_PD5 is not set
# CONFIG_STM32_SERIAL_USART3 is not set
# CONFIG_STM32_SERIAL_USART3_ALT_PD9_PD8 is not set
# CONFIG_STM32_CANBUS_PA11_PA12 is not set
# CONFIG_STM32_CANBUS_PA11_PB9 is not set
# CONFIG_STM32_MMENU_CANBUS_PB8_PB9 is not set
# CONFIG_STM32_MMENU_CANBUS_PI9_PH13 is not set
# CONFIG_STM32_MMENU_CANBUS_PB5_PB6 is not set
# CONFIG_STM32_MMENU_CANBUS_PB12_PB13 is not set
# CONFIG_STM32_MMENU_CANBUS_PD0_PD1 is not set
# CONFIG_STM32_USBCANBUS_PA11_PA12 is not set
CONFIG_USB=y
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER_CHIPID=y
CONFIG_USB_SERIAL_NUMBER="12345"

#
# USB ids
#
# end of USB ids

CONFIG_CANBUS_FREQUENCY=500000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_SDIO=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_GPIO_BITBANGING=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_HAVE_CHIPID=y
CONFIG_HAVE_STEPPER_BOTH_EDGE=y
CONFIG_HAVE_BOOTLOADER_REQUEST=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
Build file /home/mks/klipper/klippy/../out/klipper.dict(8495): Sun Mar  5 17:11:35 2023
Last MCU build version: ?-20230305_171135-mkspi
Last MCU build tools: gcc: (15:7-2018-q2-6) 7.3.1 20180622 (release) [ARM/embedded-7-branch revision 261907] binutils: (2.31.1-12+11) 2.31.1
Last MCU build config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_i2c2a=PH4,PH5 BUS_PINS_i2c3=PA8,PC9 BUS_PINS_i2c3a=PH7,PH8 BUS_PINS_sdio=PC12,PD2,PC8,PC9,PC10,PC11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi2b=PI2,PI3,PI1 BUS_PINS_spi3=PB4,PB5,PB3 BUS_PINS_spi3a=PC11,PC12,PC10 CLOCK_FREQ=168000000 MCU=stm32f407xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PH0,PH1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
Build file /home/mks/klipper/klippy/../out/klipper.elf(377440): Sun Mar  5 17:11:46 2023
Starting Klippy...
Args: ['/home/mks/klipper/klippy/klippy.py', '/home/mks/printer_data/config/printer.cfg', '-I', '/home/mks/printer_data/comms/klippy.serial', '-l', '/home/mks/printer_data/logs/klippy.log', '-a', '/home/mks/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-122-ge6ef48cd'
CPU: 4 core ?
Python: '3.7.3 (default, Oct 31 2022, 14:04:00) \n[GCC 8.3.0]'
Start printer at Tue May 23 19:38:49 2023 (1684841929.2 25.0)
===== Config file =====
[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 8000
max_accel_to_decel = 3000
max_z_velocity = 15
max_z_accel = 100
square_corner_velocity = 3.0

[virtual_sdcard]
path = /home/mks/printer_data/gcodes

[pause_resume]

[display_status]

[idle_timeout]
gcode = 
	RESPOND TYPE=echo MSG="No operations in 10min!"
timeout = 600

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None
spi_bus = spidev0.0

[verify_heater extruder]
max_error = 60
check_gain_time = 20
hysteresis = 5
heating_gain = 2

[verify_heater heater_bed]
max_error = 60
check_gain_time = 40
hysteresis = 5
heating_gain = 2

[resonance_tester]
accel_chip = adxl345
probe_points = 
	115, 115, 20
accel_per_hz = 50
min_freq = 1
max_freq = 100
max_smoothing = 0.2
hz_per_sec = 0.5

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	TURN_OFF_HEATERS
	CANCEL_PRINT_BASE
	RESPOND TYPE=echo MSG="Cancel Print Success!"
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210 F6000
	M84 X Y E

[gcode_macro START_PRINT]
gcode = 
	M84 E
	G90
	G92 E0
	G1 E-1
	G92 E0
	G28
	BED_MESH_PROFILE LOAD=default
	
	G92 E0
	G1 Z1.0 F3000
	G1 X0.1 Y20 Z0.3 F5000.0
	G1 X0.1 Y100.0 Z0.3 F500.0 E15
	G1 X0.4 Y100.0 Z0.3 F5000.0
	G1 X0.4 Y20 Z0.3 F500.0 E30
	G92 E0
	G1 Z1.0 F3000

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	RESPOND TYPE=echo MSG="Pause Print!"
	
	{% set x = params.X|default(10) %}
	{% set y = params.Y|default(210) %}
	{% set z = params.Z|default(10)|float %}
	{% set e = params.E|default(1) %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% set lift_z = z|abs %}
	{% if act_z < (max_z - lift_z) %}
	{% set z_safe = lift_z %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{e} F500
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe}
	G90
	G1 X{x} Y{y} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	RESPOND TYPE=echo MSG="RESUME Print!"
	
	{% if True %}
	{% set e = params.E|default(1) %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E{e} F400
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 X5 Y5 F3000
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210
	
	M84 X Y E
	RESPOND TYPE=echo MSG="Finish Print!"

[gcode_macro LOAD_FILAMENT]
gcode = 
	G91
	G1 E30 F300
	G1 E10 F150
	G90

[gcode_macro UNLOAD_FILAMENT]
gcode = 
	G91
	G1 E-30 F300
	G90

[gcode_macro LED_ON]
gcode = 
	SET_PIN PIN=my_led VALUE=1

[gcode_macro LED_OFF]
gcode = 
	SET_PIN PIN=my_led VALUE=0

[stepper_x]
step_pin = PD15
dir_pin = PD14
enable_pin = !PC7
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_x: virtual_endstop
homing_retract_dist = 0
position_endstop = -16
position_min = -16
position_max = 225
homing_speed = 90
step_pulse_duration = 0.000004

[tmc2209 stepper_x]
uart_pin = PE3
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 123
stealthchop_threshold = 999999
diag_pin = ^PD10

[stepper_y]
step_pin = PB7
dir_pin = PB6
enable_pin = !PB9
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_y: virtual_endstop
homing_retract_dist = 0
position_endstop = -2
position_min = -2
position_max = 225
homing_speed = 60
step_pulse_duration = 0.000004

[tmc2209 stepper_y]
uart_pin = PE4
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 110
stealthchop_threshold = 999999
diag_pin = ^PE0

[stepper_z]
step_pin = PB3
dir_pin = !PD7
enable_pin = !PB5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 253
position_min = -3
homing_speed = 5

[stepper_z1]
step_pin = PA7
dir_pin = !PA6
enable_pin = !PC5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop

[extruder]
max_extrude_only_distance = 100.0
step_pin = PD1
dir_pin = !PD0
enable_pin = !PD4
microsteps = 16
rotation_distance = 4.59
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA4
control = pid
pressure_advance = 0.02
pressure_advance_smooth_time = 0.035
pid_kp = 24.522
pid_ki = 1.397
pid_kd = 107.590
min_temp = 0
max_temp = 300
min_extrude_temp = 150

[tmc2209 extruder]
uart_pin = PE7
run_current = 0.6
uart_address = 3
interpolate = True
stealthchop_threshold = 400

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA3
control = pid
pid_kp = 54.027
pid_ki = 0.770
pid_kd = 948.182
min_temp = 0
max_temp = 130

[probe]
pin = PD13
x_offset = 27
y_offset = -20
z_offset = 1.000

[filament_switch_sensor my_sensor]
switch_pin = PD11

[safe_z_home]
home_xy_position = 83,130
speed = 100
z_hop = 5
z_hop_speed = 5

[z_tilt]
z_positions = -16, 135
	180, 135
points = -16, 135
	180, 135
speed = 200
horizontal_move_z = 5
retries = 20
retry_tolerance = .005

[bed_mesh]
speed = 200
horizontal_move_z = 5
mesh_min = 11,12
mesh_max = 210,205
probe_count = 5,5
algorithm = bicubic
bicubic_tension = 0.3
mesh_pps = 4,4
move_check_distance = 3

[screws_tilt_adjust]
screw1 = -1, 45
screw1_name = front left screw
screw2 = 168, 45
screw2_name = front right screw
screw3 = 168, 215
screw3_name = rear right screw
screw4 = -1, 215
screw4_name = rear left screw
horizontal_move_z = 5.
speed = 200.
screw_thread = CW-M4

[heater_fan hotend_fan]
pin = PE11

[fan]
pin = PE9

[output_pin my_led]
pin = PC4
pwm = 1
value = 1
cycle_time = 5

[fan_generic extruder_partfan]
pin = PE13

[controller_fan Fan_Board]
pin = PD3
fan_speed = 1.0
idle_timeout = 120
heater = heater_bed, extruder
stepper = stepper_x, stepper_y, stepper_z, stepper_z1

[input_shaper]
damping_ratio_x = 0.1
damping_ratio_y = 0.1
shaper_type_x = 2hump_ei
shaper_freq_x = 43.4
shaper_type_y = 2hump_ei
shaper_freq_y = 43.4
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
webhooks client 281472884821520: New connection
webhooks client 281472884821520: Client info {'program': 'Moonraker', 'version': 'v0.8.0-23-g18f5ff4-dirty'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
Starting Klippy...
Args: ['/home/mks/klipper/klippy/klippy.py', '/home/mks/printer_data/config/printer.cfg', '-I', '/home/mks/printer_data/comms/klippy.serial', '-l', '/home/mks/printer_data/logs/klippy.log', '-a', '/home/mks/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-122-ge6ef48cd'
CPU: 4 core ?
Python: '3.7.3 (default, Oct 31 2022, 14:04:00) \n[GCC 8.3.0]'
Start printer at Tue May 23 19:40:19 2023 (1684842019.7 29.8)
===== Config file =====
[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 8000
max_accel_to_decel = 3000
max_z_velocity = 15
max_z_accel = 100
square_corner_velocity = 3.0

[virtual_sdcard]
path = /home/mks/printer_data/gcodes

[pause_resume]

[display_status]

[idle_timeout]
gcode = 
	RESPOND TYPE=echo MSG="No operations in 10min!"
timeout = 600

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None
spi_bus = spidev0.0

[verify_heater extruder]
max_error = 60
check_gain_time = 20
hysteresis = 5
heating_gain = 2

[verify_heater heater_bed]
max_error = 60
check_gain_time = 40
hysteresis = 5
heating_gain = 2

[resonance_tester]
accel_chip = adxl345
probe_points = 
	115, 115, 20
accel_per_hz = 50
min_freq = 1
max_freq = 100
max_smoothing = 0.2
hz_per_sec = 0.5

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	TURN_OFF_HEATERS
	CANCEL_PRINT_BASE
	RESPOND TYPE=echo MSG="Cancel Print Success!"
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210 F6000
	M84 X Y E

[gcode_macro START_PRINT]
gcode = 
	M84 E
	G90
	G92 E0
	G1 E-1
	G92 E0
	G28
	BED_MESH_PROFILE LOAD=default
	
	G92 E0
	G1 Z1.0 F3000
	G1 X0.1 Y20 Z0.3 F5000.0
	G1 X0.1 Y100.0 Z0.3 F500.0 E15
	G1 X0.4 Y100.0 Z0.3 F5000.0
	G1 X0.4 Y20 Z0.3 F500.0 E30
	G92 E0
	G1 Z1.0 F3000

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	RESPOND TYPE=echo MSG="Pause Print!"
	
	{% set x = params.X|default(10) %}
	{% set y = params.Y|default(210) %}
	{% set z = params.Z|default(10)|float %}
	{% set e = params.E|default(1) %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% set lift_z = z|abs %}
	{% if act_z < (max_z - lift_z) %}
	{% set z_safe = lift_z %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{e} F500
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe}
	G90
	G1 X{x} Y{y} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	RESPOND TYPE=echo MSG="RESUME Print!"
	
	{% if True %}
	{% set e = params.E|default(1) %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E{e} F400
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 X5 Y5 F3000
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210
	
	M84 X Y E
	RESPOND TYPE=echo MSG="Finish Print!"

[gcode_macro LOAD_FILAMENT]
gcode = 
	G91
	G1 E30 F300
	G1 E10 F150
	G90

[gcode_macro UNLOAD_FILAMENT]
gcode = 
	G91
	G1 E-30 F300
	G90

[gcode_macro LED_ON]
gcode = 
	SET_PIN PIN=my_led VALUE=1

[gcode_macro LED_OFF]
gcode = 
	SET_PIN PIN=my_led VALUE=0

[stepper_x]
step_pin = PD15
dir_pin = PD14
enable_pin = !PC7
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_x: virtual_endstop
homing_retract_dist = 0
position_endstop = -16
position_min = -16
position_max = 225
homing_speed = 90
step_pulse_duration = 0.000004

[tmc2209 stepper_x]
uart_pin = PE3
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 123
stealthchop_threshold = 999999
diag_pin = ^PD10

[stepper_y]
step_pin = PB7
dir_pin = PB6
enable_pin = !PB9
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_y: virtual_endstop
homing_retract_dist = 0
position_endstop = -2
position_min = -2
position_max = 225
homing_speed = 60
step_pulse_duration = 0.000004

[tmc2209 stepper_y]
uart_pin = PE4
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 110
stealthchop_threshold = 999999
diag_pin = ^PE0

[stepper_z]
step_pin = PB3
dir_pin = !PD7
enable_pin = !PB5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 253
position_min = -3
homing_speed = 5

[stepper_z1]
step_pin = PA7
dir_pin = !PA6
enable_pin = !PC5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop

[extruder]
max_extrude_only_distance = 100.0
step_pin = PD1
dir_pin = !PD0
enable_pin = !PD4
microsteps = 16
rotation_distance = 4.59
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA4
control = pid
pressure_advance = 0.02
pressure_advance_smooth_time = 0.035
pid_kp = 24.522
pid_ki = 1.397
pid_kd = 107.590
min_temp = 0
max_temp = 300
min_extrude_temp = 150

[tmc2209 extruder]
uart_pin = PE7
run_current = 0.6
uart_address = 3
interpolate = True
stealthchop_threshold = 400

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA3
control = pid
pid_kp = 54.027
pid_ki = 0.770
pid_kd = 948.182
min_temp = 0
max_temp = 130

[probe]
pin = PD13
x_offset = 27
y_offset = -20
z_offset = 1.000

[filament_switch_sensor my_sensor]
switch_pin = PD11

[safe_z_home]
home_xy_position = 83,130
speed = 100
z_hop = 5
z_hop_speed = 5

[z_tilt]
z_positions = -16, 135
	180, 135
points = -16, 135
	180, 135
speed = 200
horizontal_move_z = 5
retries = 20
retry_tolerance = .005

[bed_mesh]
speed = 200
horizontal_move_z = 5
mesh_min = 11,12
mesh_max = 210,205
probe_count = 5,5
algorithm = bicubic
bicubic_tension = 0.3
mesh_pps = 4,4
move_check_distance = 3

[screws_tilt_adjust]
screw1 = -1, 45
screw1_name = front left screw
screw2 = 168, 45
screw2_name = front right screw
screw3 = 168, 215
screw3_name = rear right screw
screw4 = -1, 215
screw4_name = rear left screw
horizontal_move_z = 5.
speed = 200.
screw_thread = CW-M4

[heater_fan hotend_fan]
pin = PE11

[fan]
pin = PE9

[output_pin my_led]
pin = PC4
pwm = 1
value = 1
cycle_time = 5

[fan_generic extruder_partfan]
pin = PE13

[controller_fan Fan_Board]
pin = PD3
fan_speed = 1.0
idle_timeout = 120
heater = heater_bed, extruder
stepper = stepper_x, stepper_y, stepper_z, stepper_z1

[input_shaper]
damping_ratio_x = 0.1
damping_ratio_y = 0.1
shaper_type_x = 2hump_ei
shaper_freq_x = 43.4
shaper_type_y = 2hump_ei
shaper_freq_y = 43.4
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
Loaded MCU 'mcu' 105 commands (v0.11.0-41-g9b60daf6 / gcc: (15:7-2018-q2-6) 7.3.1 20180622 (release) [ARM/embedded-7-branch revision 261907] binutils: (2.31.1-12+11) 2.31.1)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 MCU=stm32f103xe PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PA10,PA9 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'rpi': Starting connect
Loaded MCU 'rpi' 111 commands (v0.11.0-121-ga5fb2076 / gcc: (Debian 8.3.0-6) 8.3.0 binutils: (GNU Binutils for Debian) 2.31.1)
MCU 'rpi' config: ADC_MAX=4095 CLOCK_FREQ=50000000 MCU=linux PCA9685_MAX=4096 PWM_MAX=32768 STATS_SUMSQ_BASE=256
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Sending MCU 'rpi' printer configuration...
Configured MCU 'rpi' (1024 moves)
Starting heater checks for extruder
Starting heater checks for heater_bed
webhooks client 281473392035320: New connection
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (-16.0, 32.0)   | (11.0, 12.0)
  1   | (33.8, 32.0)    | (60.8, 12.0)
  2   | (83.5, 32.0)    | (110.5, 12.0)
  3   | (133.2, 32.0)   | (160.2, 12.0)
  4   | (183.0, 32.0)   | (210.0, 12.0)
  5   | (183.0, 80.2)   | (210.0, 60.2)
  6   | (133.2, 80.2)   | (160.2, 60.2)
  7   | (83.5, 80.2)    | (110.5, 60.2)
  8   | (33.8, 80.2)    | (60.8, 60.2)
  9   | (-16.0, 80.2)   | (11.0, 60.2)
  10  | (-16.0, 128.5)  | (11.0, 108.5)
  11  | (33.8, 128.5)   | (60.8, 108.5)
  12  | (83.5, 128.5)   | (110.5, 108.5)
  13  | (133.2, 128.5)  | (160.2, 108.5)
  14  | (183.0, 128.5)  | (210.0, 108.5)
  15  | (183.0, 176.8)  | (210.0, 156.8)
  16  | (133.2, 176.8)  | (160.2, 156.8)
  17  | (83.5, 176.8)   | (110.5, 156.8)
  18  | (33.8, 176.8)   | (60.8, 156.8)
  19  | (-16.0, 176.8)  | (11.0, 156.8)
  20  | (-16.0, 225.0)  | (11.0, 205.0)
  21  | (33.8, 225.0)   | (60.8, 205.0)
  22  | (83.5, 225.0)   | (110.5, 205.0)
  23  | (133.2, 225.0)  | (160.2, 205.0)
  24  | (183.0, 225.0)  | (210.0, 205.0)
Stats 33.8: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000022 mcu_task_stddev=0.000015 bytes_write=2052 bytes_read=5132 bytes_retransmit=9 bytes_invalid=0 send_seq=178 receive_seq=178 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004106 rpi: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=806 bytes_read=4409 bytes_retransmit=0 bytes_invalid=0 send_seq=108 receive_seq=108 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50019730 adj=50023287  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=2.58 cputime=3.398 memavail=450452 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks client 281473392035320: Client info {'program': 'Moonraker', 'version': 'v0.8.0-23-g18f5ff4-dirty'}
webhooks: registering remote method 'shutdown_machine' for connection id: 281473392035320
webhooks: registering remote method 'reboot_machine' for connection id: 281473392035320
webhooks: registering remote method 'pause_job_queue' for connection id: 281473392035320
webhooks: registering remote method 'start_job_queue' for connection id: 281473392035320
Stats 34.8: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000022 mcu_task_stddev=0.000015 bytes_write=2066 bytes_read=5193 bytes_retransmit=9 bytes_invalid=0 send_seq=180 receive_seq=180 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004823 rpi: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=812 bytes_read=4425 bytes_retransmit=0 bytes_invalid=0 send_seq=109 receive_seq=109 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50003832 adj=50007422  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.58 cputime=3.443 memavail=439884 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.8 pwm=0.000
Stats 35.8: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000022 mcu_task_stddev=0.000015 bytes_write=2072 bytes_read=5314 bytes_retransmit=9 bytes_invalid=0 send_seq=181 receive_seq=181 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004609 rpi: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=818 bytes_read=4441 bytes_retransmit=0 bytes_invalid=0 send_seq=110 receive_seq=110 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000669 adj=49985182  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.62 cputime=3.499 memavail=426480 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.7 pwm=0.000
Stats 36.8: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000022 mcu_task_stddev=0.000015 bytes_write=2078 bytes_read=5420 bytes_retransmit=9 bytes_invalid=0 send_seq=182 receive_seq=182 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004581 rpi: mcu_awake=0.006 mcu_task_avg=0.000041 mcu_task_stddev=0.000037 bytes_write=824 bytes_read=4472 bytes_retransmit=0 bytes_invalid=0 send_seq=111 receive_seq=111 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999739 adj=49983801  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.62 cputime=3.516 memavail=425224 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.7 pwm=0.000
Stats 37.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000023 mcu_task_stddev=0.000038 bytes_write=2084 bytes_read=5556 bytes_retransmit=9 bytes_invalid=0 send_seq=183 receive_seq=183 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004560 rpi: mcu_awake=0.006 mcu_task_avg=0.000041 mcu_task_stddev=0.000037 bytes_write=830 bytes_read=4488 bytes_retransmit=0 bytes_invalid=0 send_seq=112 receive_seq=112 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999489 adj=49985720  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.62 cputime=3.533 memavail=410644 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.7 pwm=0.000
Stats 38.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000023 mcu_task_stddev=0.000038 bytes_write=2090 bytes_read=5677 bytes_retransmit=9 bytes_invalid=0 send_seq=184 receive_seq=184 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004589 rpi: mcu_awake=0.006 mcu_task_avg=0.000041 mcu_task_stddev=0.000037 bytes_write=836 bytes_read=4504 bytes_retransmit=0 bytes_invalid=0 send_seq=113 receive_seq=113 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000965 adj=49987914  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.62 cputime=3.552 memavail=416796 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.7 pwm=0.000
Stats 39.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000023 mcu_task_stddev=0.000038 bytes_write=2096 bytes_read=5783 bytes_retransmit=9 bytes_invalid=0 send_seq=185 receive_seq=185 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004601 rpi: mcu_awake=0.006 mcu_task_avg=0.000041 mcu_task_stddev=0.000037 bytes_write=842 bytes_read=4520 bytes_retransmit=0 bytes_invalid=0 send_seq=114 receive_seq=114 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50001310 adj=49993586  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.62 cputime=3.571 memavail=453388 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.8 pwm=0.000
Stats 40.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000023 mcu_task_stddev=0.000038 bytes_write=2102 bytes_read=5904 bytes_retransmit=9 bytes_invalid=0 send_seq=186 receive_seq=186 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004599 rpi: mcu_awake=0.006 mcu_task_avg=0.000041 mcu_task_stddev=0.000037 bytes_write=848 bytes_read=4536 bytes_retransmit=0 bytes_invalid=0 send_seq=115 receive_seq=115 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000753 adj=49995539  heater_bed: target=0 temp=25.7 pwm=0.000 sysload=2.73 cputime=3.590 memavail=434532 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.7 pwm=0.000
Stats 41.8: gcodein=0  mcu: mcu_awake=0.005 mcu_task_avg=0.000023 mcu_task_stddev=0.000038 bytes_write=2108 bytes_read=6025 bytes_retransmit=9 bytes_invalid=0 send_seq=187 receive_seq=187 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004638 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000016 bytes_write=854 bytes_read=4565 bytes_retransmit=0 bytes_invalid=0 send_seq=116 receive_seq=116 retransmit_seq=0 srtt=0.001 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000348 adj=49994563  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.73 cputime=3.608 memavail=434564 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.8 pwm=0.000
Stats 42.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2114 bytes_read=6144 bytes_retransmit=9 bytes_invalid=0 send_seq=188 receive_seq=188 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004649 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000016 bytes_write=860 bytes_read=4581 bytes_retransmit=0 bytes_invalid=0 send_seq=117 receive_seq=117 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000391 adj=49993957  heater_bed: target=0 temp=25.7 pwm=0.000 sysload=2.73 cputime=3.625 memavail=432332 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.8 pwm=0.000
Stats 43.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2120 bytes_read=6265 bytes_retransmit=9 bytes_invalid=0 send_seq=189 receive_seq=189 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004778 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000016 bytes_write=866 bytes_read=4597 bytes_retransmit=0 bytes_invalid=0 send_seq=118 receive_seq=118 retransmit_seq=0 srtt=0.001 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000181 adj=49994867  heater_bed: target=0 temp=25.7 pwm=0.000 sysload=2.73 cputime=3.639 memavail=433096 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.8 pwm=0.000
Stats 44.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2126 bytes_read=6386 bytes_retransmit=9 bytes_invalid=0 send_seq=190 receive_seq=190 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004749 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000016 bytes_write=872 bytes_read=4613 bytes_retransmit=0 bytes_invalid=0 send_seq=119 receive_seq=119 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000037 adj=49994349  heater_bed: target=0 temp=25.7 pwm=0.000 sysload=2.73 cputime=3.655 memavail=417220 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.8 pwm=0.000
Stats 45.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2132 bytes_read=6492 bytes_retransmit=9 bytes_invalid=0 send_seq=191 receive_seq=191 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004724 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000016 bytes_write=878 bytes_read=4629 bytes_retransmit=0 bytes_invalid=0 send_seq=120 receive_seq=120 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999950 adj=49994508  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.67 cputime=3.671 memavail=417320 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.8 pwm=0.000
Stats 46.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2138 bytes_read=6613 bytes_retransmit=9 bytes_invalid=0 send_seq=192 receive_seq=192 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004711 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000015 bytes_write=884 bytes_read=4658 bytes_retransmit=0 bytes_invalid=0 send_seq=121 receive_seq=121 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999939 adj=49994789  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.67 cputime=3.691 memavail=402228 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.8 pwm=0.000
Stats 47.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2144 bytes_read=6747 bytes_retransmit=9 bytes_invalid=0 send_seq=193 receive_seq=193 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004700 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000015 bytes_write=890 bytes_read=4674 bytes_retransmit=0 bytes_invalid=0 send_seq=122 receive_seq=122 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999926 adj=49995251  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.67 cputime=3.712 memavail=416464 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.8 pwm=0.000
Stats 48.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2150 bytes_read=6868 bytes_retransmit=9 bytes_invalid=0 send_seq=194 receive_seq=194 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004722 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000015 bytes_write=896 bytes_read=4690 bytes_retransmit=0 bytes_invalid=0 send_seq=123 receive_seq=123 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999918 adj=49995588  heater_bed: target=0 temp=25.5 pwm=0.000 sysload=2.67 cputime=3.731 memavail=449344 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.8 pwm=0.000
Stats 49.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2156 bytes_read=6974 bytes_retransmit=9 bytes_invalid=0 send_seq=195 receive_seq=195 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004734 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000015 bytes_write=902 bytes_read=4706 bytes_retransmit=0 bytes_invalid=0 send_seq=124 receive_seq=124 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999871 adj=49995740  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.67 cputime=3.753 memavail=449116 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.8 pwm=0.000
Stats 50.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2162 bytes_read=7095 bytes_retransmit=9 bytes_invalid=0 send_seq=196 receive_seq=196 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004740 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000015 bytes_write=908 bytes_read=4722 bytes_retransmit=0 bytes_invalid=0 send_seq=125 receive_seq=125 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999884 adj=49995698  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.61 cputime=3.775 memavail=449376 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.8 pwm=0.000
Stats 51.8: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2168 bytes_read=7208 bytes_retransmit=9 bytes_invalid=0 send_seq=197 receive_seq=197 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004723 rpi: mcu_awake=0.000 mcu_task_avg=0.000008 mcu_task_stddev=0.000015 bytes_write=914 bytes_read=4751 bytes_retransmit=0 bytes_invalid=0 send_seq=126 receive_seq=126 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999848 adj=49995965  heater_bed: target=0 temp=25.6 pwm=0.000 sysload=2.61 cputime=3.792 memavail=447748 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.9 pwm=0.000
Starting Klippy...
Args: ['/home/mks/klipper/klippy/klippy.py', '/home/mks/printer_data/config/printer.cfg', '-I', '/home/mks/printer_data/comms/klippy.serial', '-l', '/home/mks/printer_data/logs/klippy.log', '-a', '/home/mks/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-122-ge6ef48cd'
CPU: 4 core ?
Python: '3.7.3 (default, Oct 31 2022, 14:04:00) \n[GCC 8.3.0]'
Start printer at Tue May 23 19:41:15 2023 (1684842075.4 25.1)
===== Config file =====
[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 8000
max_accel_to_decel = 3000
max_z_velocity = 15
max_z_accel = 100
square_corner_velocity = 3.0

[virtual_sdcard]
path = /home/mks/printer_data/gcodes

[pause_resume]

[display_status]

[idle_timeout]
gcode = 
	RESPOND TYPE=echo MSG="No operations in 10min!"
timeout = 600

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None
spi_bus = spidev0.0

[verify_heater extruder]
max_error = 60
check_gain_time = 20
hysteresis = 5
heating_gain = 2

[verify_heater heater_bed]
max_error = 60
check_gain_time = 40
hysteresis = 5
heating_gain = 2

[resonance_tester]
accel_chip = adxl345
probe_points = 
	115, 115, 20
accel_per_hz = 50
min_freq = 1
max_freq = 100
max_smoothing = 0.2
hz_per_sec = 0.5

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	TURN_OFF_HEATERS
	CANCEL_PRINT_BASE
	RESPOND TYPE=echo MSG="Cancel Print Success!"
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210 F6000
	M84 X Y E

[gcode_macro START_PRINT]
gcode = 
	M84 E
	G90
	G92 E0
	G1 E-1
	G92 E0
	G28
	BED_MESH_PROFILE LOAD=default
	
	G92 E0
	G1 Z1.0 F3000
	G1 X0.1 Y20 Z0.3 F5000.0
	G1 X0.1 Y100.0 Z0.3 F500.0 E15
	G1 X0.4 Y100.0 Z0.3 F5000.0
	G1 X0.4 Y20 Z0.3 F500.0 E30
	G92 E0
	G1 Z1.0 F3000

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	RESPOND TYPE=echo MSG="Pause Print!"
	
	{% set x = params.X|default(10) %}
	{% set y = params.Y|default(210) %}
	{% set z = params.Z|default(10)|float %}
	{% set e = params.E|default(1) %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% set lift_z = z|abs %}
	{% if act_z < (max_z - lift_z) %}
	{% set z_safe = lift_z %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{e} F500
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe}
	G90
	G1 X{x} Y{y} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	RESPOND TYPE=echo MSG="RESUME Print!"
	
	{% if True %}
	{% set e = params.E|default(1) %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E{e} F400
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 X5 Y5 F3000
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210
	
	M84 X Y E
	RESPOND TYPE=echo MSG="Finish Print!"

[gcode_macro LOAD_FILAMENT]
gcode = 
	G91
	G1 E30 F300
	G1 E10 F150
	G90

[gcode_macro UNLOAD_FILAMENT]
gcode = 
	G91
	G1 E-30 F300
	G90

[gcode_macro LED_ON]
gcode = 
	SET_PIN PIN=my_led VALUE=1

[gcode_macro LED_OFF]
gcode = 
	SET_PIN PIN=my_led VALUE=0

[stepper_x]
step_pin = PD15
dir_pin = PD14
enable_pin = !PC7
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_x: virtual_endstop
homing_retract_dist = 0
position_endstop = -16
position_min = -16
position_max = 225
homing_speed = 90
step_pulse_duration = 0.000004

[tmc2209 stepper_x]
uart_pin = PE3
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 123
stealthchop_threshold = 999999
diag_pin = ^PD10

[stepper_y]
step_pin = PB7
dir_pin = PB6
enable_pin = !PB9
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_y: virtual_endstop
homing_retract_dist = 0
position_endstop = -2
position_min = -2
position_max = 225
homing_speed = 60
step_pulse_duration = 0.000004

[tmc2209 stepper_y]
uart_pin = PE4
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 110
stealthchop_threshold = 999999
diag_pin = ^PE0

[stepper_z]
step_pin = PB3
dir_pin = !PD7
enable_pin = !PB5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 253
position_min = -3
homing_speed = 5

[stepper_z1]
step_pin = PA7
dir_pin = !PA6
enable_pin = !PC5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop

[extruder]
max_extrude_only_distance = 100.0
step_pin = PD1
dir_pin = !PD0
enable_pin = !PD4
microsteps = 16
rotation_distance = 4.59
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA4
control = pid
pressure_advance = 0.02
pressure_advance_smooth_time = 0.035
pid_kp = 24.522
pid_ki = 1.397
pid_kd = 107.590
min_temp = 0
max_temp = 300
min_extrude_temp = 150

[tmc2209 extruder]
uart_pin = PE7
run_current = 0.6
uart_address = 3
interpolate = True
stealthchop_threshold = 400

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA3
control = pid
pid_kp = 54.027
pid_ki = 0.770
pid_kd = 948.182
min_temp = 0
max_temp = 130

[probe]
pin = PD13
x_offset = 27
y_offset = -20
z_offset = 1.000

[filament_switch_sensor my_sensor]
switch_pin = PD11

[safe_z_home]
home_xy_position = 83,130
speed = 100
z_hop = 5
z_hop_speed = 5

[z_tilt]
z_positions = -16, 135
	180, 135
points = -16, 135
	180, 135
speed = 200
horizontal_move_z = 5
retries = 20
retry_tolerance = .005

[bed_mesh]
speed = 200
horizontal_move_z = 5
mesh_min = 11,12
mesh_max = 210,205
probe_count = 5,5
algorithm = bicubic
bicubic_tension = 0.3
mesh_pps = 4,4
move_check_distance = 3

[screws_tilt_adjust]
screw1 = -1, 45
screw1_name = front left screw
screw2 = 168, 45
screw2_name = front right screw
screw3 = 168, 215
screw3_name = rear right screw
screw4 = -1, 215
screw4_name = rear left screw
horizontal_move_z = 5.
speed = 200.
screw_thread = CW-M4

[heater_fan hotend_fan]
pin = PE11

[fan]
pin = PE9

[output_pin my_led]
pin = PC4
pwm = 1
value = 1
cycle_time = 5

[fan_generic extruder_partfan]
pin = PE13

[controller_fan Fan_Board]
pin = PD3
fan_speed = 1.0
idle_timeout = 120
heater = heater_bed, extruder
stepper = stepper_x, stepper_y, stepper_z, stepper_z1

[input_shaper]
damping_ratio_x = 0.1
damping_ratio_y = 0.1
shaper_type_x = 2hump_ei
shaper_freq_x = 43.4
shaper_type_y = 2hump_ei
shaper_freq_y = 43.4
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': got {'oid': 26, 'next_clock': 4190952704, 'value': 31198, '#name': 'analog_in_state', '#sent_time': 27.271384512, '#receive_time': 27.293858304}
mcu 'mcu': got {'oid': 14, 'next_clock': 4203912704, 'value': 31222, '#name': 'analog_in_state', '#sent_time': 27.437877179, '#receive_time': 27.473993095}
mcu 'mcu': got {'oid': 26, 'next_clock': 4212552704, 'value': 31192, '#name': 'analog_in_state', '#sent_time': 27.548799470000002, '#receive_time': 27.59387422}
Loaded MCU 'mcu' 105 commands (v0.11.0-41-g9b60daf6 / gcc: (15:7-2018-q2-6) 7.3.1 20180622 (release) [ARM/embedded-7-branch revision 261907] binutils: (2.31.1-12+11) 2.31.1)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 MCU=stm32f103xe PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PA10,PA9 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'rpi': Starting connect
mcu 'mcu': got {'oid': 14, 'next_clock': 4225512704, 'value': 31223, '#name': 'analog_in_state', '#sent_time': 27.670752012, '#receive_time': 27.773889720000003}
mcu 'mcu': got {'oid': 26, 'next_clock': 4234152704, 'value': 31196, '#name': 'analog_in_state', '#sent_time': 27.670752012, '#receive_time': 27.893765346}
mcu 'mcu': got {'oid': 14, 'next_clock': 4247112704, 'value': 31223, '#name': 'analog_in_state', '#sent_time': 27.670752012, '#receive_time': 28.073898971}
mcu 'mcu': got {'oid': 26, 'next_clock': 4255752704, 'value': 31194, '#name': 'analog_in_state', '#sent_time': 27.670752012, '#receive_time': 28.193885679}
mcu 'mcu': got {'oid': 14, 'next_clock': 4268712704, 'value': 31224, '#name': 'analog_in_state', '#sent_time': 27.670752012, '#receive_time': 28.373905554}
mcu 'mcu': got {'oid': 26, 'next_clock': 4277352704, 'value': 31194, '#name': 'analog_in_state', '#sent_time': 27.670752012, '#receive_time': 28.493879137}
Loaded MCU 'rpi' 111 commands (v0.11.0-121-ga5fb2076 / gcc: (Debian 8.3.0-6) 8.3.0 binutils: (GNU Binutils for Debian) 2.31.1)
MCU 'rpi' config: ADC_MAX=4095 CLOCK_FREQ=50000000 MCU=linux PCA9685_MAX=4096 PWM_MAX=32768 STATS_SUMSQ_BASE=256
Configured MCU 'mcu' (1024 moves)
Sending MCU 'rpi' printer configuration...
Configured MCU 'rpi' (1024 moves)
Starting heater checks for extruder
Starting heater checks for heater_bed
webhooks client 281473237456656: New connection
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (-16.0, 32.0)   | (11.0, 12.0)
  1   | (33.8, 32.0)    | (60.8, 12.0)
  2   | (83.5, 32.0)    | (110.5, 12.0)
  3   | (133.2, 32.0)   | (160.2, 12.0)
  4   | (183.0, 32.0)   | (210.0, 12.0)
  5   | (183.0, 80.2)   | (210.0, 60.2)
  6   | (133.2, 80.2)   | (160.2, 60.2)
  7   | (83.5, 80.2)    | (110.5, 60.2)
  8   | (33.8, 80.2)    | (60.8, 60.2)
  9   | (-16.0, 80.2)   | (11.0, 60.2)
  10  | (-16.0, 128.5)  | (11.0, 108.5)
  11  | (33.8, 128.5)   | (60.8, 108.5)
  12  | (83.5, 128.5)   | (110.5, 108.5)
  13  | (133.2, 128.5)  | (160.2, 108.5)
  14  | (183.0, 128.5)  | (210.0, 108.5)
  15  | (183.0, 176.8)  | (210.0, 156.8)
  16  | (133.2, 176.8)  | (160.2, 156.8)
  17  | (83.5, 176.8)   | (110.5, 156.8)
  18  | (33.8, 176.8)   | (60.8, 156.8)
  19  | (-16.0, 176.8)  | (11.0, 156.8)
  20  | (-16.0, 225.0)  | (11.0, 205.0)
  21  | (33.8, 225.0)   | (60.8, 205.0)
  22  | (83.5, 225.0)   | (110.5, 205.0)
  23  | (133.2, 225.0)  | (160.2, 205.0)
  24  | (183.0, 225.0)  | (210.0, 205.0)
webhooks client 281473237456656: Client info {'program': 'Moonraker', 'version': 'v0.8.0-23-g18f5ff4-dirty'}
webhooks: registering remote method 'shutdown_machine' for connection id: 281473237456656
webhooks: registering remote method 'reboot_machine' for connection id: 281473237456656
webhooks: registering remote method 'pause_job_queue' for connection id: 281473237456656
webhooks: registering remote method 'start_job_queue' for connection id: 281473237456656
Starting Klippy...
Args: ['/home/mks/klipper/klippy/klippy.py', '/home/mks/printer_data/config/printer.cfg', '-I', '/home/mks/printer_data/comms/klippy.serial', '-l', '/home/mks/printer_data/logs/klippy.log', '-a', '/home/mks/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-122-ge6ef48cd'
CPU: 4 core ?
Python: '3.7.3 (default, Oct 31 2022, 14:04:00) \n[GCC 8.3.0]'
Start printer at Tue May 23 19:41:46 2023 (1684842106.6 25.4)
===== Config file =====
[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 8000
max_accel_to_decel = 3000
max_z_velocity = 15
max_z_accel = 100
square_corner_velocity = 3.0

[virtual_sdcard]
path = /home/mks/printer_data/gcodes

[pause_resume]

[display_status]

[idle_timeout]
gcode = 
	RESPOND TYPE=echo MSG="No operations in 10min!"
timeout = 600

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None
spi_bus = spidev0.0

[verify_heater extruder]
max_error = 60
check_gain_time = 20
hysteresis = 5
heating_gain = 2

[verify_heater heater_bed]
max_error = 60
check_gain_time = 40
hysteresis = 5
heating_gain = 2

[resonance_tester]
accel_chip = adxl345
probe_points = 
	115, 115, 20
accel_per_hz = 50
min_freq = 1
max_freq = 100
max_smoothing = 0.2
hz_per_sec = 0.5

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	TURN_OFF_HEATERS
	CANCEL_PRINT_BASE
	RESPOND TYPE=echo MSG="Cancel Print Success!"
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210 F6000
	M84 X Y E

[gcode_macro START_PRINT]
gcode = 
	M84 E
	G90
	G92 E0
	G1 E-1
	G92 E0
	G28
	BED_MESH_PROFILE LOAD=default
	
	G92 E0
	G1 Z1.0 F3000
	G1 X0.1 Y20 Z0.3 F5000.0
	G1 X0.1 Y100.0 Z0.3 F500.0 E15
	G1 X0.4 Y100.0 Z0.3 F5000.0
	G1 X0.4 Y20 Z0.3 F500.0 E30
	G92 E0
	G1 Z1.0 F3000

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	RESPOND TYPE=echo MSG="Pause Print!"
	
	{% set x = params.X|default(10) %}
	{% set y = params.Y|default(210) %}
	{% set z = params.Z|default(10)|float %}
	{% set e = params.E|default(1) %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% set lift_z = z|abs %}
	{% if act_z < (max_z - lift_z) %}
	{% set z_safe = lift_z %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{e} F500
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe}
	G90
	G1 X{x} Y{y} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	RESPOND TYPE=echo MSG="RESUME Print!"
	
	{% if True %}
	{% set e = params.E|default(1) %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E{e} F400
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 X5 Y5 F3000
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210
	
	M84 X Y E
	RESPOND TYPE=echo MSG="Finish Print!"

[gcode_macro LOAD_FILAMENT]
gcode = 
	G91
	G1 E30 F300
	G1 E10 F150
	G90

[gcode_macro UNLOAD_FILAMENT]
gcode = 
	G91
	G1 E-30 F300
	G90

[gcode_macro LED_ON]
gcode = 
	SET_PIN PIN=my_led VALUE=1

[gcode_macro LED_OFF]
gcode = 
	SET_PIN PIN=my_led VALUE=0

[stepper_x]
step_pin = PD15
dir_pin = PD14
enable_pin = !PC7
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_x: virtual_endstop
homing_retract_dist = 0
position_endstop = -16
position_min = -16
position_max = 225
homing_speed = 90
step_pulse_duration = 0.000004

[tmc2209 stepper_x]
uart_pin = PE3
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 123
stealthchop_threshold = 999999
diag_pin = ^PD10

[stepper_y]
step_pin = PB7
dir_pin = PB6
enable_pin = !PB9
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_y: virtual_endstop
homing_retract_dist = 0
position_endstop = -2
position_min = -2
position_max = 225
homing_speed = 60
step_pulse_duration = 0.000004

[tmc2209 stepper_y]
uart_pin = PE4
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 110
stealthchop_threshold = 999999
diag_pin = ^PE0

[stepper_z]
step_pin = PB3
dir_pin = !PD7
enable_pin = !PB5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 253
position_min = -3
homing_speed = 5

[stepper_z1]
step_pin = PA7
dir_pin = !PA6
enable_pin = !PC5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop

[extruder]
max_extrude_only_distance = 100.0
step_pin = PD1
dir_pin = !PD0
enable_pin = !PD4
microsteps = 16
rotation_distance = 4.59
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA4
control = pid
pressure_advance = 0.02
pressure_advance_smooth_time = 0.035
pid_kp = 24.522
pid_ki = 1.397
pid_kd = 107.590
min_temp = 0
max_temp = 300
min_extrude_temp = 150

[tmc2209 extruder]
uart_pin = PE7
run_current = 0.6
uart_address = 3
interpolate = True
stealthchop_threshold = 400

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA3
control = pid
pid_kp = 54.027
pid_ki = 0.770
pid_kd = 948.182
min_temp = 0
max_temp = 130

[probe]
pin = PD13
x_offset = 27
y_offset = -20
z_offset = 1.000

[filament_switch_sensor my_sensor]
switch_pin = PD11

[safe_z_home]
home_xy_position = 83,130
speed = 100
z_hop = 5
z_hop_speed = 5

[z_tilt]
z_positions = -16, 135
	180, 135
points = -16, 135
	180, 135
speed = 200
horizontal_move_z = 5
retries = 20
retry_tolerance = .005

[bed_mesh]
speed = 200
horizontal_move_z = 5
mesh_min = 11,12
mesh_max = 210,205
probe_count = 5,5
algorithm = bicubic
bicubic_tension = 0.3
mesh_pps = 4,4
move_check_distance = 3

[screws_tilt_adjust]
screw1 = -1, 45
screw1_name = front left screw
screw2 = 168, 45
screw2_name = front right screw
screw3 = 168, 215
screw3_name = rear right screw
screw4 = -1, 215
screw4_name = rear left screw
horizontal_move_z = 5.
speed = 200.
screw_thread = CW-M4

[heater_fan hotend_fan]
pin = PE11

[fan]
pin = PE9

[output_pin my_led]
pin = PC4
pwm = 1
value = 1
cycle_time = 5

[fan_generic extruder_partfan]
pin = PE13

[controller_fan Fan_Board]
pin = PD3
fan_speed = 1.0
idle_timeout = 120
heater = heater_bed, extruder
stepper = stepper_x, stepper_y, stepper_z, stepper_z1

[input_shaper]
damping_ratio_x = 0.1
damping_ratio_y = 0.1
shaper_type_x = 2hump_ei
shaper_freq_x = 43.4
shaper_type_y = 2hump_ei
shaper_freq_y = 43.4
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': got {'oid': 26, 'next_clock': 828218112, 'value': 31176, '#name': 'analog_in_state', '#sent_time': 27.500937845000003, '#receive_time': 27.532439304}
mcu 'mcu': got {'oid': 14, 'next_clock': 841178112, 'value': 31215, '#name': 'analog_in_state', '#sent_time': 27.672165137, '#receive_time': 27.715553179}
mcu 'mcu': got {'oid': 26, 'next_clock': 849818112, 'value': 31177, '#name': 'analog_in_state', '#sent_time': 27.783456095000002, '#receive_time': 27.832325429}
Loaded MCU 'mcu' 105 commands (v0.11.0-41-g9b60daf6 / gcc: (15:7-2018-q2-6) 7.3.1 20180622 (release) [ARM/embedded-7-branch revision 261907] binutils: (2.31.1-12+11) 2.31.1)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 MCU=stm32f103xe PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PA10,PA9 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'rpi': Starting connect
mcu 'mcu': got {'oid': 14, 'next_clock': 862778112, 'value': 31215, '#name': 'analog_in_state', '#sent_time': 27.978108012, '#receive_time': 28.016002512}
mcu 'mcu': got {'oid': 26, 'next_clock': 871418112, 'value': 31174, '#name': 'analog_in_state', '#sent_time': 27.978108012, '#receive_time': 28.137884179}
mcu 'mcu': got {'oid': 14, 'next_clock': 884378112, 'value': 31216, '#name': 'analog_in_state', '#sent_time': 27.978108012, '#receive_time': 28.312452512}
mcu 'mcu': got {'oid': 26, 'next_clock': 893018112, 'value': 31177, '#name': 'analog_in_state', '#sent_time': 27.978108012, '#receive_time': 28.432300971}
mcu 'mcu': got {'oid': 14, 'next_clock': 905978112, 'value': 31211, '#name': 'analog_in_state', '#sent_time': 27.978108012, '#receive_time': 28.612291096}
mcu 'mcu': got {'oid': 26, 'next_clock': 914618112, 'value': 31175, '#name': 'analog_in_state', '#sent_time': 27.978108012, '#receive_time': 28.732387179}
Loaded MCU 'rpi' 111 commands (v0.11.0-121-ga5fb2076 / gcc: (Debian 8.3.0-6) 8.3.0 binutils: (GNU Binutils for Debian) 2.31.1)
MCU 'rpi' config: ADC_MAX=4095 CLOCK_FREQ=50000000 MCU=linux PCA9685_MAX=4096 PWM_MAX=32768 STATS_SUMSQ_BASE=256
Configured MCU 'mcu' (1024 moves)
Sending MCU 'rpi' printer configuration...
Configured MCU 'rpi' (1024 moves)
Starting heater checks for extruder
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (-16.0, 32.0)   | (11.0, 12.0)
  1   | (33.8, 32.0)    | (60.8, 12.0)
  2   | (83.5, 32.0)    | (110.5, 12.0)
  3   | (133.2, 32.0)   | (160.2, 12.0)
  4   | (183.0, 32.0)   | (210.0, 12.0)
  5   | (183.0, 80.2)   | (210.0, 60.2)
  6   | (133.2, 80.2)   | (160.2, 60.2)
  7   | (83.5, 80.2)    | (110.5, 60.2)
  8   | (33.8, 80.2)    | (60.8, 60.2)
  9   | (-16.0, 80.2)   | (11.0, 60.2)
  10  | (-16.0, 128.5)  | (11.0, 108.5)
  11  | (33.8, 128.5)   | (60.8, 108.5)
  12  | (83.5, 128.5)   | (110.5, 108.5)
  13  | (133.2, 128.5)  | (160.2, 108.5)
  14  | (183.0, 128.5)  | (210.0, 108.5)
  15  | (183.0, 176.8)  | (210.0, 156.8)
  16  | (133.2, 176.8)  | (160.2, 156.8)
  17  | (83.5, 176.8)   | (110.5, 156.8)
  18  | (33.8, 176.8)   | (60.8, 156.8)
  19  | (-16.0, 176.8)  | (11.0, 156.8)
  20  | (-16.0, 225.0)  | (11.0, 205.0)
  21  | (33.8, 225.0)   | (60.8, 205.0)
  22  | (83.5, 225.0)   | (110.5, 205.0)
  23  | (133.2, 225.0)  | (160.2, 205.0)
  24  | (183.0, 225.0)  | (210.0, 205.0)
webhooks client 281472896029248: New connection
webhooks client 281472896029248: Client info {'program': 'Moonraker', 'version': 'v0.8.0-23-g18f5ff4-dirty'}
webhooks: registering remote method 'shutdown_machine' for connection id: 281472896029248
webhooks: registering remote method 'reboot_machine' for connection id: 281472896029248
webhooks: registering remote method 'pause_job_queue' for connection id: 281472896029248
webhooks: registering remote method 'start_job_queue' for connection id: 281472896029248
Starting Klippy...
Args: ['/home/mks/klipper/klippy/klippy.py', '/home/mks/printer_data/config/printer.cfg', '-I', '/home/mks/printer_data/comms/klippy.serial', '-l', '/home/mks/printer_data/logs/klippy.log', '-a', '/home/mks/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-122-ge6ef48cd'
CPU: 4 core ?
Python: '3.7.3 (default, Oct 31 2022, 14:04:00) \n[GCC 8.3.0]'
Start printer at Tue May 23 19:41:46 2023 (1684842106.2 25.1)
===== Config file =====
[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 8000
max_accel_to_decel = 3000
max_z_velocity = 15
max_z_accel = 100
square_corner_velocity = 3.0

[virtual_sdcard]
path = /home/mks/printer_data/gcodes

[pause_resume]

[display_status]

[idle_timeout]
gcode = 
	RESPOND TYPE=echo MSG="No operations in 10min!"
timeout = 600

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None
spi_bus = spidev0.0

[verify_heater extruder]
max_error = 60
check_gain_time = 20
hysteresis = 5
heating_gain = 2

[verify_heater heater_bed]
max_error = 60
check_gain_time = 40
hysteresis = 5
heating_gain = 2

[resonance_tester]
accel_chip = adxl345
probe_points = 
	115, 115, 20
accel_per_hz = 50
min_freq = 1
max_freq = 100
max_smoothing = 0.2
hz_per_sec = 0.5

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	TURN_OFF_HEATERS
	CANCEL_PRINT_BASE
	RESPOND TYPE=echo MSG="Cancel Print Success!"
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210 F6000
	M84 X Y E

[gcode_macro START_PRINT]
gcode = 
	M84 E
	G90
	G92 E0
	G1 E-1
	G92 E0
	G28
	BED_MESH_PROFILE LOAD=default
	
	G92 E0
	G1 Z1.0 F3000
	G1 X0.1 Y20 Z0.3 F5000.0
	G1 X0.1 Y100.0 Z0.3 F500.0 E15
	G1 X0.4 Y100.0 Z0.3 F5000.0
	G1 X0.4 Y20 Z0.3 F500.0 E30
	G92 E0
	G1 Z1.0 F3000

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	RESPOND TYPE=echo MSG="Pause Print!"
	
	{% set x = params.X|default(10) %}
	{% set y = params.Y|default(210) %}
	{% set z = params.Z|default(10)|float %}
	{% set e = params.E|default(1) %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% set lift_z = z|abs %}
	{% if act_z < (max_z - lift_z) %}
	{% set z_safe = lift_z %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{e} F500
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe}
	G90
	G1 X{x} Y{y} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	RESPOND TYPE=echo MSG="RESUME Print!"
	
	{% if True %}
	{% set e = params.E|default(1) %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E{e} F400
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 X5 Y5 F3000
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210
	
	M84 X Y E
	RESPOND TYPE=echo MSG="Finish Print!"

[gcode_macro LOAD_FILAMENT]
gcode = 
	G91
	G1 E30 F300
	G1 E10 F150
	G90

[gcode_macro UNLOAD_FILAMENT]
gcode = 
	G91
	G1 E-30 F300
	G90

[gcode_macro LED_ON]
gcode = 
	SET_PIN PIN=my_led VALUE=1

[gcode_macro LED_OFF]
gcode = 
	SET_PIN PIN=my_led VALUE=0

[stepper_x]
step_pin = PD15
dir_pin = PD14
enable_pin = !PC7
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_x: virtual_endstop
homing_retract_dist = 0
position_endstop = -16
position_min = -16
position_max = 225
homing_speed = 90
step_pulse_duration = 0.000004

[tmc2209 stepper_x]
uart_pin = PE3
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 123
stealthchop_threshold = 999999
diag_pin = ^PD10

[stepper_y]
step_pin = PB7
dir_pin = PB6
enable_pin = !PB9
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_y: virtual_endstop
homing_retract_dist = 0
position_endstop = -2
position_min = -2
position_max = 225
homing_speed = 60
step_pulse_duration = 0.000004

[tmc2209 stepper_y]
uart_pin = PE4
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 110
stealthchop_threshold = 999999
diag_pin = ^PE0

[stepper_z]
step_pin = PB3
dir_pin = !PD7
enable_pin = !PB5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 253
position_min = -3
homing_speed = 5

[stepper_z1]
step_pin = PA7
dir_pin = !PA6
enable_pin = !PC5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop

[extruder]
max_extrude_only_distance = 100.0
step_pin = PD1
dir_pin = !PD0
enable_pin = !PD4
microsteps = 16
rotation_distance = 4.59
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA4
control = pid
pressure_advance = 0.02
pressure_advance_smooth_time = 0.035
pid_kp = 24.522
pid_ki = 1.397
pid_kd = 107.590
min_temp = 0
max_temp = 300
min_extrude_temp = 150

[tmc2209 extruder]
uart_pin = PE7
run_current = 0.6
uart_address = 3
interpolate = True
stealthchop_threshold = 400

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA3
control = pid
pid_kp = 54.027
pid_ki = 0.770
pid_kd = 948.182
min_temp = 0
max_temp = 130

[probe]
pin = PD13
x_offset = 27
y_offset = -20
z_offset = 1.000

[filament_switch_sensor my_sensor]
switch_pin = PD11

[safe_z_home]
home_xy_position = 83,130
speed = 100
z_hop = 5
z_hop_speed = 5

[z_tilt]
z_positions = -16, 135
	180, 135
points = -16, 135
	180, 135
speed = 200
horizontal_move_z = 5
retries = 20
retry_tolerance = .005

[bed_mesh]
speed = 200
horizontal_move_z = 5
mesh_min = 11,12
mesh_max = 210,205
probe_count = 5,5
algorithm = bicubic
bicubic_tension = 0.3
mesh_pps = 4,4
move_check_distance = 3

[screws_tilt_adjust]
screw1 = -1, 45
screw1_name = front left screw
screw2 = 168, 45
screw2_name = front right screw
screw3 = 168, 215
screw3_name = rear right screw
screw4 = -1, 215
screw4_name = rear left screw
horizontal_move_z = 5.
speed = 200.
screw_thread = CW-M4

[heater_fan hotend_fan]
pin = PE11

[fan]
pin = PE9

[output_pin my_led]
pin = PC4
pwm = 1
value = 1
cycle_time = 5

[fan_generic extruder_partfan]
pin = PE13

[controller_fan Fan_Board]
pin = PD3
fan_speed = 1.0
idle_timeout = 120
heater = heater_bed, extruder
stepper = stepper_x, stepper_y, stepper_z, stepper_z1

[input_shaper]
damping_ratio_x = 0.1
damping_ratio_y = 0.1
shaper_type_x = 2hump_ei
shaper_freq_x = 43.4
shaper_type_y = 2hump_ei
shaper_freq_y = 43.4
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
webhooks client 281473114242240: New connection
webhooks client 281473114242240: Client info {'program': 'Moonraker', 'version': 'v0.8.0-23-g18f5ff4-dirty'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
Starting Klippy...
Args: ['/home/mks/klipper/klippy/klippy.py', '/home/mks/printer_data/config/printer.cfg', '-I', '/home/mks/printer_data/comms/klippy.serial', '-l', '/home/mks/printer_data/logs/klippy.log', '-a', '/home/mks/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-122-ge6ef48cd'
CPU: 4 core ?
Python: '3.7.3 (default, Oct 31 2022, 14:04:00) \n[GCC 8.3.0]'
Start printer at Tue May 23 19:41:46 2023 (1684842106.8 26.1)
===== Config file =====
[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 8000
max_accel_to_decel = 3000
max_z_velocity = 15
max_z_accel = 100
square_corner_velocity = 3.0

[virtual_sdcard]
path = /home/mks/printer_data/gcodes

[pause_resume]

[display_status]

[idle_timeout]
gcode = 
	RESPOND TYPE=echo MSG="No operations in 10min!"
timeout = 600

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None
spi_bus = spidev0.0

[verify_heater extruder]
max_error = 60
check_gain_time = 20
hysteresis = 5
heating_gain = 2

[verify_heater heater_bed]
max_error = 60
check_gain_time = 40
hysteresis = 5
heating_gain = 2

[resonance_tester]
accel_chip = adxl345
probe_points = 
	115, 115, 20
accel_per_hz = 50
min_freq = 1
max_freq = 100
max_smoothing = 0.2
hz_per_sec = 0.5

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	TURN_OFF_HEATERS
	CANCEL_PRINT_BASE
	RESPOND TYPE=echo MSG="Cancel Print Success!"
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210 F6000
	M84 X Y E

[gcode_macro START_PRINT]
gcode = 
	M84 E
	G90
	G92 E0
	G1 E-1
	G92 E0
	G28
	BED_MESH_PROFILE LOAD=default
	
	G92 E0
	G1 Z1.0 F3000
	G1 X0.1 Y20 Z0.3 F5000.0
	G1 X0.1 Y100.0 Z0.3 F500.0 E15
	G1 X0.4 Y100.0 Z0.3 F5000.0
	G1 X0.4 Y20 Z0.3 F500.0 E30
	G92 E0
	G1 Z1.0 F3000

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	RESPOND TYPE=echo MSG="Pause Print!"
	
	{% set x = params.X|default(10) %}
	{% set y = params.Y|default(210) %}
	{% set z = params.Z|default(10)|float %}
	{% set e = params.E|default(1) %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% set lift_z = z|abs %}
	{% if act_z < (max_z - lift_z) %}
	{% set z_safe = lift_z %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{e} F500
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe}
	G90
	G1 X{x} Y{y} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	RESPOND TYPE=echo MSG="RESUME Print!"
	
	{% if True %}
	{% set e = params.E|default(1) %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E{e} F400
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 X5 Y5 F3000
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210
	
	M84 X Y E
	RESPOND TYPE=echo MSG="Finish Print!"

[gcode_macro LOAD_FILAMENT]
gcode = 
	G91
	G1 E30 F300
	G1 E10 F150
	G90

[gcode_macro UNLOAD_FILAMENT]
gcode = 
	G91
	G1 E-30 F300
	G90

[gcode_macro LED_ON]
gcode = 
	SET_PIN PIN=my_led VALUE=1

[gcode_macro LED_OFF]
gcode = 
	SET_PIN PIN=my_led VALUE=0

[stepper_x]
step_pin = PD15
dir_pin = PD14
enable_pin = !PC7
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_x: virtual_endstop
homing_retract_dist = 0
position_endstop = -16
position_min = -16
position_max = 225
homing_speed = 90
step_pulse_duration = 0.000004

[tmc2209 stepper_x]
uart_pin = PE3
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 123
stealthchop_threshold = 999999
diag_pin = ^PD10

[stepper_y]
step_pin = PB7
dir_pin = PB6
enable_pin = !PB9
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_y: virtual_endstop
homing_retract_dist = 0
position_endstop = -2
position_min = -2
position_max = 225
homing_speed = 60
step_pulse_duration = 0.000004

[tmc2209 stepper_y]
uart_pin = PE4
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 110
stealthchop_threshold = 999999
diag_pin = ^PE0

[stepper_z]
step_pin = PB3
dir_pin = !PD7
enable_pin = !PB5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 253
position_min = -3
homing_speed = 5

[stepper_z1]
step_pin = PA7
dir_pin = !PA6
enable_pin = !PC5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop

[extruder]
max_extrude_only_distance = 100.0
step_pin = PD1
dir_pin = !PD0
enable_pin = !PD4
microsteps = 16
rotation_distance = 4.59
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA4
control = pid
pressure_advance = 0.02
pressure_advance_smooth_time = 0.035
pid_kp = 24.522
pid_ki = 1.397
pid_kd = 107.590
min_temp = 0
max_temp = 300
min_extrude_temp = 150

[tmc2209 extruder]
uart_pin = PE7
run_current = 0.6
uart_address = 3
interpolate = True
stealthchop_threshold = 400

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA3
control = pid
pid_kp = 54.027
pid_ki = 0.770
pid_kd = 948.182
min_temp = 0
max_temp = 130

[probe]
pin = PD13
x_offset = 27
y_offset = -20
z_offset = 1.000

[filament_switch_sensor my_sensor]
switch_pin = PD11

[safe_z_home]
home_xy_position = 83,130
speed = 100
z_hop = 5
z_hop_speed = 5

[z_tilt]
z_positions = -16, 135
	180, 135
points = -16, 135
	180, 135
speed = 200
horizontal_move_z = 5
retries = 20
retry_tolerance = .005

[bed_mesh]
speed = 200
horizontal_move_z = 5
mesh_min = 11,12
mesh_max = 210,205
probe_count = 5,5
algorithm = bicubic
bicubic_tension = 0.3
mesh_pps = 4,4
move_check_distance = 3

[screws_tilt_adjust]
screw1 = -1, 45
screw1_name = front left screw
screw2 = 168, 45
screw2_name = front right screw
screw3 = 168, 215
screw3_name = rear right screw
screw4 = -1, 215
screw4_name = rear left screw
horizontal_move_z = 5.
speed = 200.
screw_thread = CW-M4

[heater_fan hotend_fan]
pin = PE11

[fan]
pin = PE9

[output_pin my_led]
pin = PC4
pwm = 1
value = 1
cycle_time = 5

[fan_generic extruder_partfan]
pin = PE13

[controller_fan Fan_Board]
pin = PD3
fan_speed = 1.0
idle_timeout = 120
heater = heater_bed, extruder
stepper = stepper_x, stepper_y, stepper_z, stepper_z1

[input_shaper]
damping_ratio_x = 0.1
damping_ratio_y = 0.1
shaper_type_x = 2hump_ei
shaper_freq_x = 43.4
shaper_type_y = 2hump_ei
shaper_freq_y = 43.4
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
Loaded MCU 'mcu' 105 commands (v0.11.0-41-g9b60daf6 / gcc: (15:7-2018-q2-6) 7.3.1 20180622 (release) [ARM/embedded-7-branch revision 261907] binutils: (2.31.1-12+11) 2.31.1)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1a=PB8,PB9 BUS_PINS_i2c2=PB10,PB11 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi3=PB4,PB5,PB3 CLOCK_FREQ=72000000 MCU=stm32f103xe PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PA10,PA9 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'rpi': Starting connect
Loaded MCU 'rpi' 111 commands (v0.11.0-121-ga5fb2076 / gcc: (Debian 8.3.0-6) 8.3.0 binutils: (GNU Binutils for Debian) 2.31.1)
MCU 'rpi' config: ADC_MAX=4095 CLOCK_FREQ=50000000 MCU=linux PCA9685_MAX=4096 PWM_MAX=32768 STATS_SUMSQ_BASE=256
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Sending MCU 'rpi' printer configuration...
Configured MCU 'rpi' (1024 moves)
Starting heater checks for extruder
Starting heater checks for heater_bed
webhooks client 281473839227736: New connection
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (-16.0, 32.0)   | (11.0, 12.0)
  1   | (33.8, 32.0)    | (60.8, 12.0)
  2   | (83.5, 32.0)    | (110.5, 12.0)
  3   | (133.2, 32.0)   | (160.2, 12.0)
  4   | (183.0, 32.0)   | (210.0, 12.0)
  5   | (183.0, 80.2)   | (210.0, 60.2)
  6   | (133.2, 80.2)   | (160.2, 60.2)
  7   | (83.5, 80.2)    | (110.5, 60.2)
  8   | (33.8, 80.2)    | (60.8, 60.2)
  9   | (-16.0, 80.2)   | (11.0, 60.2)
  10  | (-16.0, 128.5)  | (11.0, 108.5)
  11  | (33.8, 128.5)   | (60.8, 108.5)
  12  | (83.5, 128.5)   | (110.5, 108.5)
  13  | (133.2, 128.5)  | (160.2, 108.5)
  14  | (183.0, 128.5)  | (210.0, 108.5)
  15  | (183.0, 176.8)  | (210.0, 156.8)
  16  | (133.2, 176.8)  | (160.2, 156.8)
  17  | (83.5, 176.8)   | (110.5, 156.8)
  18  | (33.8, 176.8)   | (60.8, 156.8)
  19  | (-16.0, 176.8)  | (11.0, 156.8)
  20  | (-16.0, 225.0)  | (11.0, 205.0)
  21  | (33.8, 225.0)   | (60.8, 205.0)
  22  | (83.5, 225.0)   | (110.5, 205.0)
  23  | (133.2, 225.0)  | (160.2, 205.0)
  24  | (183.0, 225.0)  | (210.0, 205.0)
Stats 30.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000022 mcu_task_stddev=0.000015 bytes_write=2177 bytes_read=5257 bytes_retransmit=9 bytes_invalid=0 send_seq=203 receive_seq=203 retransmit_seq=2 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72005511 rpi: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=821 bytes_read=4424 bytes_retransmit=0 bytes_invalid=0 send_seq=111 receive_seq=111 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50005255 adj=50001737  heater_bed: target=0 temp=0.0 pwm=0.000 sysload=1.82 cputime=3.434 memavail=441228 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=0.0 pwm=0.000
webhooks client 281473839227736: Client info {'program': 'Moonraker', 'version': 'v0.8.0-23-g18f5ff4-dirty'}
webhooks: registering remote method 'shutdown_machine' for connection id: 281473839227736
webhooks: registering remote method 'reboot_machine' for connection id: 281473839227736
webhooks: registering remote method 'pause_job_queue' for connection id: 281473839227736
webhooks: registering remote method 'start_job_queue' for connection id: 281473839227736
Stats 31.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000022 mcu_task_stddev=0.000015 bytes_write=2191 bytes_read=5363 bytes_retransmit=9 bytes_invalid=0 send_seq=205 receive_seq=205 retransmit_seq=2 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004857 rpi: mcu_awake=0.000 mcu_task_avg=0.000000 mcu_task_stddev=0.000000 bytes_write=827 bytes_read=4440 bytes_retransmit=0 bytes_invalid=0 send_seq=112 receive_seq=112 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999161 adj=50001059  heater_bed: target=0 temp=24.5 pwm=0.000 sysload=1.82 cputime=3.480 memavail=430620 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 32.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000022 mcu_task_stddev=0.000015 bytes_write=2197 bytes_read=5469 bytes_retransmit=9 bytes_invalid=0 send_seq=206 receive_seq=206 retransmit_seq=2 srtt=0.003 rttvar=0.001 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004744 rpi: mcu_awake=0.006 mcu_task_avg=0.000041 mcu_task_stddev=0.000039 bytes_write=833 bytes_read=4471 bytes_retransmit=0 bytes_invalid=0 send_seq=113 receive_seq=113 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000921 adj=49992866  heater_bed: target=0 temp=24.6 pwm=0.000 sysload=1.82 cputime=3.522 memavail=416644 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.5 pwm=0.000
Stats 33.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000022 mcu_task_stddev=0.000015 bytes_write=2203 bytes_read=5590 bytes_retransmit=9 bytes_invalid=0 send_seq=207 receive_seq=207 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72005229 rpi: mcu_awake=0.006 mcu_task_avg=0.000041 mcu_task_stddev=0.000039 bytes_write=839 bytes_read=4487 bytes_retransmit=0 bytes_invalid=0 send_seq=114 receive_seq=114 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000726 adj=49996817  heater_bed: target=0 temp=24.7 pwm=0.000 sysload=1.82 cputime=3.542 memavail=415680 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 34.1: gcodein=0  mcu: mcu_awake=0.003 mcu_task_avg=0.000022 mcu_task_stddev=0.000015 bytes_write=2209 bytes_read=5711 bytes_retransmit=9 bytes_invalid=0 send_seq=208 receive_seq=208 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72005000 rpi: mcu_awake=0.006 mcu_task_avg=0.000041 mcu_task_stddev=0.000039 bytes_write=845 bytes_read=4503 bytes_retransmit=0 bytes_invalid=0 send_seq=115 receive_seq=115 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999812 adj=49995891  heater_bed: target=0 temp=24.8 pwm=0.000 sysload=1.82 cputime=3.558 memavail=401320 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.7 pwm=0.000
Stats 35.1: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000022 mcu_task_stddev=0.000033 bytes_write=2215 bytes_read=5832 bytes_retransmit=9 bytes_invalid=0 send_seq=209 receive_seq=209 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004947 rpi: mcu_awake=0.006 mcu_task_avg=0.000041 mcu_task_stddev=0.000039 bytes_write=851 bytes_read=4519 bytes_retransmit=0 bytes_invalid=0 send_seq=116 receive_seq=116 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000145 adj=49994575  heater_bed: target=0 temp=24.9 pwm=0.000 sysload=1.91 cputime=3.578 memavail=403388 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.8 pwm=0.000
Stats 36.1: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000022 mcu_task_stddev=0.000033 bytes_write=2221 bytes_read=5953 bytes_retransmit=9 bytes_invalid=0 send_seq=210 receive_seq=210 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004890 rpi: mcu_awake=0.006 mcu_task_avg=0.000041 mcu_task_stddev=0.000039 bytes_write=857 bytes_read=4535 bytes_retransmit=0 bytes_invalid=0 send_seq=117 receive_seq=117 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50001096 adj=49995936  heater_bed: target=0 temp=24.9 pwm=0.000 sysload=1.91 cputime=3.598 memavail=435924 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 37.1: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000022 mcu_task_stddev=0.000033 bytes_write=2227 bytes_read=6074 bytes_retransmit=9 bytes_invalid=0 send_seq=211 receive_seq=211 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004944 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000016 bytes_write=863 bytes_read=4564 bytes_retransmit=0 bytes_invalid=0 send_seq=118 receive_seq=118 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000872 adj=49998807  heater_bed: target=0 temp=25.0 pwm=0.000 sysload=1.91 cputime=3.618 memavail=423464 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 38.1: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000022 mcu_task_stddev=0.000033 bytes_write=2233 bytes_read=6195 bytes_retransmit=9 bytes_invalid=0 send_seq=212 receive_seq=212 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004905 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000016 bytes_write=869 bytes_read=4580 bytes_retransmit=0 bytes_invalid=0 send_seq=119 receive_seq=119 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000462 adj=49997755  heater_bed: target=0 temp=25.0 pwm=0.000 sysload=1.91 cputime=3.636 memavail=424132 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 39.1: gcodein=0  mcu: mcu_awake=0.006 mcu_task_avg=0.000022 mcu_task_stddev=0.000033 bytes_write=2239 bytes_read=6301 bytes_retransmit=9 bytes_invalid=0 send_seq=213 receive_seq=213 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004859 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000016 bytes_write=875 bytes_read=4596 bytes_retransmit=0 bytes_invalid=0 send_seq=120 receive_seq=120 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000168 adj=49996473  heater_bed: target=0 temp=25.0 pwm=0.000 sysload=1.91 cputime=3.653 memavail=422620 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 40.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=2245 bytes_read=6435 bytes_retransmit=9 bytes_invalid=0 send_seq=214 receive_seq=214 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004835 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000016 bytes_write=881 bytes_read=4612 bytes_retransmit=0 bytes_invalid=0 send_seq=121 receive_seq=121 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000044 adj=49995748  heater_bed: target=0 temp=25.1 pwm=0.000 sysload=1.92 cputime=3.670 memavail=422124 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=24.9 pwm=0.000
Stats 41.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=2251 bytes_read=6556 bytes_retransmit=9 bytes_invalid=0 send_seq=215 receive_seq=215 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004816 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000016 bytes_write=887 bytes_read=4628 bytes_retransmit=0 bytes_invalid=0 send_seq=122 receive_seq=122 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999932 adj=49995629  heater_bed: target=0 temp=25.1 pwm=0.000 sysload=1.92 cputime=3.687 memavail=406248 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 42.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=2257 bytes_read=6662 bytes_retransmit=9 bytes_invalid=0 send_seq=216 receive_seq=216 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004838 rpi: mcu_awake=0.000 mcu_task_avg=0.000009 mcu_task_stddev=0.000016 bytes_write=893 bytes_read=4644 bytes_retransmit=0 bytes_invalid=0 send_seq=123 receive_seq=123 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999891 adj=49995519  heater_bed: target=0 temp=25.1 pwm=0.000 sysload=1.92 cputime=3.704 memavail=406424 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 43.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=2263 bytes_read=6783 bytes_retransmit=9 bytes_invalid=0 send_seq=217 receive_seq=217 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004836 rpi: mcu_awake=0.000 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=899 bytes_read=4673 bytes_retransmit=0 bytes_invalid=0 send_seq=124 receive_seq=124 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999853 adj=49995555  heater_bed: target=0 temp=25.1 pwm=0.000 sysload=1.92 cputime=3.724 memavail=401888 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 44.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000014 mcu_task_stddev=0.000011 bytes_write=2269 bytes_read=6904 bytes_retransmit=9 bytes_invalid=0 send_seq=218 receive_seq=218 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004834 rpi: mcu_awake=0.000 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=905 bytes_read=4689 bytes_retransmit=0 bytes_invalid=0 send_seq=125 receive_seq=125 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000376 adj=49995648  heater_bed: target=0 temp=25.1 pwm=0.000 sysload=1.92 cputime=3.745 memavail=401500 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.0 pwm=0.000
Stats 45.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2275 bytes_read=7023 bytes_retransmit=9 bytes_invalid=0 send_seq=219 receive_seq=219 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004833 rpi: mcu_awake=0.000 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=911 bytes_read=4705 bytes_retransmit=0 bytes_invalid=0 send_seq=126 receive_seq=126 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000258 adj=49998197  heater_bed: target=0 temp=25.1 pwm=0.000 sysload=2.33 cputime=3.764 memavail=400552 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.1 pwm=0.000
Stats 46.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2281 bytes_read=7144 bytes_retransmit=9 bytes_invalid=0 send_seq=220 receive_seq=220 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004830 rpi: mcu_awake=0.000 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=917 bytes_read=4721 bytes_retransmit=0 bytes_invalid=0 send_seq=127 receive_seq=127 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000189 adj=49997356  heater_bed: target=0 temp=25.1 pwm=0.000 sysload=2.33 cputime=3.785 memavail=436196 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.1 pwm=0.000
Stats 47.1: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2287 bytes_read=7265 bytes_retransmit=9 bytes_invalid=0 send_seq=221 receive_seq=221 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004834 rpi: mcu_awake=0.000 mcu_task_avg=0.000008 mcu_task_stddev=0.000013 bytes_write=923 bytes_read=4737 bytes_retransmit=0 bytes_invalid=0 send_seq=128 receive_seq=128 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000122 adj=49996916  heater_bed: target=0 temp=25.1 pwm=0.000 sysload=2.33 cputime=3.808 memavail=436196 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.1 pwm=0.000
Stats 48.2: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2293 bytes_read=7371 bytes_retransmit=9 bytes_invalid=0 send_seq=222 receive_seq=222 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004825 rpi: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000017 bytes_write=929 bytes_read=4766 bytes_retransmit=0 bytes_invalid=0 send_seq=129 receive_seq=129 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=50000061 adj=49996543  heater_bed: target=0 temp=25.1 pwm=0.000 sysload=2.33 cputime=3.826 memavail=436208 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.1 pwm=0.000
Stats 49.2: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2299 bytes_read=7492 bytes_retransmit=9 bytes_invalid=0 send_seq=223 receive_seq=223 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004816 rpi: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000017 bytes_write=935 bytes_read=4782 bytes_retransmit=0 bytes_invalid=0 send_seq=130 receive_seq=130 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999986 adj=49996308  heater_bed: target=0 temp=25.2 pwm=0.000 sysload=2.33 cputime=3.841 memavail=436208 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.1 pwm=0.000
Stats 50.2: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2305 bytes_read=7626 bytes_retransmit=9 bytes_invalid=0 send_seq=224 receive_seq=224 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004813 rpi: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000017 bytes_write=941 bytes_read=4798 bytes_retransmit=0 bytes_invalid=0 send_seq=131 receive_seq=131 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999933 adj=49995861  heater_bed: target=0 temp=25.2 pwm=0.000 sysload=2.30 cputime=3.864 memavail=436472 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.1 pwm=0.000
Stats 51.2: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2311 bytes_read=7732 bytes_retransmit=9 bytes_invalid=0 send_seq=225 receive_seq=225 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004827 rpi: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000017 bytes_write=947 bytes_read=4814 bytes_retransmit=0 bytes_invalid=0 send_seq=132 receive_seq=132 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999950 adj=49995869  heater_bed: target=0 temp=25.2 pwm=0.000 sysload=2.30 cputime=3.886 memavail=446300 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.1 pwm=0.000
Stats 52.2: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2317 bytes_read=7853 bytes_retransmit=9 bytes_invalid=0 send_seq=226 receive_seq=226 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004835 rpi: mcu_awake=0.001 mcu_task_avg=0.000010 mcu_task_stddev=0.000017 bytes_write=953 bytes_read=4830 bytes_retransmit=0 bytes_invalid=0 send_seq=133 receive_seq=133 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999928 adj=49996086  heater_bed: target=0 temp=25.2 pwm=0.000 sysload=2.30 cputime=3.904 memavail=453616 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.1 pwm=0.000
Stats 53.2: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2323 bytes_read=7971 bytes_retransmit=9 bytes_invalid=0 send_seq=227 receive_seq=227 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004831 rpi: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000018 bytes_write=965 bytes_read=4875 bytes_retransmit=0 bytes_invalid=0 send_seq=135 receive_seq=135 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999900 adj=49996048  heater_bed: target=0 temp=25.3 pwm=0.000 sysload=2.30 cputime=3.923 memavail=452648 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.1 pwm=0.000
Stats 54.2: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000011 bytes_write=2329 bytes_read=8069 bytes_retransmit=9 bytes_invalid=0 send_seq=228 receive_seq=228 retransmit_seq=2 srtt=0.003 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=72004826 rpi: mcu_awake=0.001 mcu_task_avg=0.000009 mcu_task_stddev=0.000018 bytes_write=971 bytes_read=4891 bytes_retransmit=0 bytes_invalid=0 send_seq=136 receive_seq=136 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 stalled_bytes=0 freq=49999874 adj=49996023  heater_bed: target=0 temp=25.3 pwm=0.000 sysload=2.30 cputime=3.937 memavail=452904 print_time=0.021 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.2 pwm=0.000
Starting Klippy...
Args: ['/home/mks/klipper/klippy/klippy.py', '/home/mks/printer_data/config/printer.cfg', '-I', '/home/mks/printer_data/comms/klippy.serial', '-l', '/home/mks/printer_data/logs/klippy.log', '-a', '/home/mks/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-122-ge6ef48cd'
CPU: 4 core ?
Python: '3.7.3 (default, Oct 31 2022, 14:04:00) \n[GCC 8.3.0]'
Start printer at Tue May 23 19:41:46 2023 (1684842106.3 25.2)
===== Config file =====
[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 8000
max_accel_to_decel = 3000
max_z_velocity = 15
max_z_accel = 100
square_corner_velocity = 3.0

[virtual_sdcard]
path = /home/mks/printer_data/gcodes

[pause_resume]

[display_status]

[idle_timeout]
gcode = 
	RESPOND TYPE=echo MSG="No operations in 10min!"
timeout = 600

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None
spi_bus = spidev0.0

[verify_heater extruder]
max_error = 60
check_gain_time = 20
hysteresis = 5
heating_gain = 2

[verify_heater heater_bed]
max_error = 60
check_gain_time = 40
hysteresis = 5
heating_gain = 2

[resonance_tester]
accel_chip = adxl345
probe_points = 
	115, 115, 20
accel_per_hz = 50
min_freq = 1
max_freq = 100
max_smoothing = 0.2
hz_per_sec = 0.5

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	TURN_OFF_HEATERS
	CANCEL_PRINT_BASE
	RESPOND TYPE=echo MSG="Cancel Print Success!"
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210 F6000
	M84 X Y E

[gcode_macro START_PRINT]
gcode = 
	M84 E
	G90
	G92 E0
	G1 E-1
	G92 E0
	G28
	BED_MESH_PROFILE LOAD=default
	
	G92 E0
	G1 Z1.0 F3000
	G1 X0.1 Y20 Z0.3 F5000.0
	G1 X0.1 Y100.0 Z0.3 F500.0 E15
	G1 X0.4 Y100.0 Z0.3 F5000.0
	G1 X0.4 Y20 Z0.3 F500.0 E30
	G92 E0
	G1 Z1.0 F3000

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	RESPOND TYPE=echo MSG="Pause Print!"
	
	{% set x = params.X|default(10) %}
	{% set y = params.Y|default(210) %}
	{% set z = params.Z|default(10)|float %}
	{% set e = params.E|default(1) %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% set lift_z = z|abs %}
	{% if act_z < (max_z - lift_z) %}
	{% set z_safe = lift_z %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{e} F500
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe}
	G90
	G1 X{x} Y{y} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	RESPOND TYPE=echo MSG="RESUME Print!"
	
	{% if True %}
	{% set e = params.E|default(1) %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E{e} F400
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 X5 Y5 F3000
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210
	
	M84 X Y E
	RESPOND TYPE=echo MSG="Finish Print!"

[gcode_macro LOAD_FILAMENT]
gcode = 
	G91
	G1 E30 F300
	G1 E10 F150
	G90

[gcode_macro UNLOAD_FILAMENT]
gcode = 
	G91
	G1 E-30 F300
	G90

[gcode_macro LED_ON]
gcode = 
	SET_PIN PIN=my_led VALUE=1

[gcode_macro LED_OFF]
gcode = 
	SET_PIN PIN=my_led VALUE=0

[stepper_x]
step_pin = PD15
dir_pin = PD14
enable_pin = !PC7
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_x: virtual_endstop
homing_retract_dist = 0
position_endstop = -16
position_min = -16
position_max = 225
homing_speed = 90
step_pulse_duration = 0.000004

[tmc2209 stepper_x]
uart_pin = PE3
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 123
stealthchop_threshold = 999999
diag_pin = ^PD10

[stepper_y]
step_pin = PB7
dir_pin = PB6
enable_pin = !PB9
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_y: virtual_endstop
homing_retract_dist = 0
position_endstop = -2
position_min = -2
position_max = 225
homing_speed = 60
step_pulse_duration = 0.000004

[tmc2209 stepper_y]
uart_pin = PE4
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 110
stealthchop_threshold = 999999
diag_pin = ^PE0

[stepper_z]
step_pin = PB3
dir_pin = !PD7
enable_pin = !PB5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 253
position_min = -3
homing_speed = 5

[stepper_z1]
step_pin = PA7
dir_pin = !PA6
enable_pin = !PC5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop

[extruder]
max_extrude_only_distance = 100.0
step_pin = PD1
dir_pin = !PD0
enable_pin = !PD4
microsteps = 16
rotation_distance = 4.59
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA4
control = pid
pressure_advance = 0.02
pressure_advance_smooth_time = 0.035
pid_kp = 24.522
pid_ki = 1.397
pid_kd = 107.590
min_temp = 0
max_temp = 300
min_extrude_temp = 150

[tmc2209 extruder]
uart_pin = PE7
run_current = 0.6
uart_address = 3
interpolate = True
stealthchop_threshold = 400

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA3
control = pid
pid_kp = 54.027
pid_ki = 0.770
pid_kd = 948.182
min_temp = 0
max_temp = 130

[probe]
pin = PD13
x_offset = 27
y_offset = -20
z_offset = 1.000

[filament_switch_sensor my_sensor]
switch_pin = PD11

[safe_z_home]
home_xy_position = 83,130
speed = 100
z_hop = 5
z_hop_speed = 5

[z_tilt]
z_positions = -16, 135
	180, 135
points = -16, 135
	180, 135
speed = 200
horizontal_move_z = 5
retries = 20
retry_tolerance = .005

[bed_mesh]
speed = 200
horizontal_move_z = 5
mesh_min = 11,12
mesh_max = 210,205
probe_count = 5,5
algorithm = bicubic
bicubic_tension = 0.3
mesh_pps = 4,4
move_check_distance = 3

[screws_tilt_adjust]
screw1 = -1, 45
screw1_name = front left screw
screw2 = 168, 45
screw2_name = front right screw
screw3 = 168, 215
screw3_name = rear right screw
screw4 = -1, 215
screw4_name = rear left screw
horizontal_move_z = 5.
speed = 200.
screw_thread = CW-M4

[heater_fan hotend_fan]
pin = PE11

[fan]
pin = PE9

[output_pin my_led]
pin = PC4
pwm = 1
value = 1
cycle_time = 5

[fan_generic extruder_partfan]
pin = PE13

[controller_fan Fan_Board]
pin = PD3
fan_speed = 1.0
idle_timeout = 120
heater = heater_bed, extruder
stepper = stepper_x, stepper_y, stepper_z, stepper_z1

[input_shaper]
damping_ratio_x = 0.1
damping_ratio_y = 0.1
shaper_type_x = 2hump_ei
shaper_freq_x = 43.4
shaper_type_y = 2hump_ei
shaper_freq_y = 43.4
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
webhooks client 281473619758440: New connection
webhooks client 281473619758440: Client info {'program': 'Moonraker', 'version': 'v0.8.0-23-g18f5ff4-dirty'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
Starting Klippy...
Args: ['/home/mks/klipper/klippy/klippy.py', '/home/mks/printer_data/config/printer.cfg', '-I', '/home/mks/printer_data/comms/klippy.serial', '-l', '/home/mks/printer_data/logs/klippy.log', '-a', '/home/mks/printer_data/comms/klippy.sock']
Git version: 'v0.11.0-122-ge6ef48cd'
CPU: 4 core ?
Python: '3.7.3 (default, Oct 31 2022, 14:04:00) \n[GCC 8.3.0]'
Start printer at Tue May 23 19:42:20 2023 (1684842140.3 25.3)
===== Config file =====
[mcu]
serial = /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0
restart_method = command

[printer]
kinematics = cartesian
max_velocity = 300
max_accel = 8000
max_accel_to_decel = 3000
max_z_velocity = 15
max_z_accel = 100
square_corner_velocity = 3.0

[virtual_sdcard]
path = /home/mks/printer_data/gcodes

[pause_resume]

[display_status]

[idle_timeout]
gcode = 
	RESPOND TYPE=echo MSG="No operations in 10min!"
timeout = 600

[mcu rpi]
serial = /tmp/klipper_host_mcu

[adxl345]
cs_pin = rpi:None
spi_bus = spidev0.0

[verify_heater extruder]
max_error = 60
check_gain_time = 20
hysteresis = 5
heating_gain = 2

[verify_heater heater_bed]
max_error = 60
check_gain_time = 40
hysteresis = 5
heating_gain = 2

[resonance_tester]
accel_chip = adxl345
probe_points = 
	115, 115, 20
accel_per_hz = 50
min_freq = 1
max_freq = 100
max_smoothing = 0.2
hz_per_sec = 0.5

[respond]

[gcode_macro CANCEL_PRINT]
description = Cancel the actual running print
rename_existing = CANCEL_PRINT_BASE
gcode = 
	TURN_OFF_HEATERS
	CANCEL_PRINT_BASE
	RESPOND TYPE=echo MSG="Cancel Print Success!"
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210 F6000
	M84 X Y E

[gcode_macro START_PRINT]
gcode = 
	M84 E
	G90
	G92 E0
	G1 E-1
	G92 E0
	G28
	BED_MESH_PROFILE LOAD=default
	
	G92 E0
	G1 Z1.0 F3000
	G1 X0.1 Y20 Z0.3 F5000.0
	G1 X0.1 Y100.0 Z0.3 F500.0 E15
	G1 X0.4 Y100.0 Z0.3 F5000.0
	G1 X0.4 Y20 Z0.3 F500.0 E30
	G92 E0
	G1 Z1.0 F3000

[gcode_macro PAUSE]
description = Pause the actual running print
rename_existing = PAUSE_BASE
gcode = 
	RESPOND TYPE=echo MSG="Pause Print!"
	
	{% set x = params.X|default(10) %}
	{% set y = params.Y|default(210) %}
	{% set z = params.Z|default(10)|float %}
	{% set e = params.E|default(1) %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% set lift_z = z|abs %}
	{% if act_z < (max_z - lift_z) %}
	{% set z_safe = lift_z %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	PAUSE_BASE
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{e} F500
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe}
	G90
	G1 X{x} Y{y} F6000
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro RESUME]
description = Resume the actual running print
rename_existing = RESUME_BASE
gcode = 
	RESPOND TYPE=echo MSG="RESUME Print!"
	
	{% if True %}
	{% set e = params.E|default(1) %}
	
	{% if 'VELOCITY' in params|upper %}
	{% set get_params = ('VELOCITY=' + params.VELOCITY)  %}
	{%else %}
	{% set get_params = "" %}
	{% endif %}
	
	G91
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E{e} F400
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESUME_BASE {get_params}
	{% endif %}

[gcode_macro END_PRINT]
gcode = 
	G91
	G1 E-2 F500
	G1 E-2 Z0.2 F200
	G1 X5 Y5 F3000
	G1 Z1
	M106 S0
	M104 S0
	M140 S0
	G90
	G1 X10 Y210
	
	M84 X Y E
	RESPOND TYPE=echo MSG="Finish Print!"

[gcode_macro LOAD_FILAMENT]
gcode = 
	G91
	G1 E30 F300
	G1 E10 F150
	G90

[gcode_macro UNLOAD_FILAMENT]
gcode = 
	G91
	G1 E-30 F300
	G90

[gcode_macro LED_ON]
gcode = 
	SET_PIN PIN=my_led VALUE=1

[gcode_macro LED_OFF]
gcode = 
	SET_PIN PIN=my_led VALUE=0

[stepper_x]
step_pin = PD15
dir_pin = PD14
enable_pin = !PC7
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_x: virtual_endstop
homing_retract_dist = 0
position_endstop = -16
position_min = -16
position_max = 225
homing_speed = 90
step_pulse_duration = 0.000004

[tmc2209 stepper_x]
uart_pin = PE3
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 123
stealthchop_threshold = 999999
diag_pin = ^PD10

[stepper_y]
step_pin = PB7
dir_pin = PB6
enable_pin = !PB9
microsteps = 16
rotation_distance = 40
endstop_pin = tmc2209_stepper_y: virtual_endstop
homing_retract_dist = 0
position_endstop = -2
position_min = -2
position_max = 225
homing_speed = 60
step_pulse_duration = 0.000004

[tmc2209 stepper_y]
uart_pin = PE4
run_current = 1.2
uart_address = 3
interpolate = True
driver_sgthrs = 110
stealthchop_threshold = 999999
diag_pin = ^PE0

[stepper_z]
step_pin = PB3
dir_pin = !PD7
enable_pin = !PB5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop
position_max = 253
position_min = -3
homing_speed = 5

[stepper_z1]
step_pin = PA7
dir_pin = !PA6
enable_pin = !PC5
microsteps = 16
rotation_distance = 8
endstop_pin = probe:z_virtual_endstop

[extruder]
max_extrude_only_distance = 100.0
step_pin = PD1
dir_pin = !PD0
enable_pin = !PD4
microsteps = 16
rotation_distance = 4.59
nozzle_diameter = 0.400
filament_diameter = 1.750
heater_pin = PA1
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA4
control = pid
pressure_advance = 0.02
pressure_advance_smooth_time = 0.035
pid_kp = 24.522
pid_ki = 1.397
pid_kd = 107.590
min_temp = 0
max_temp = 300
min_extrude_temp = 150

[tmc2209 extruder]
uart_pin = PE7
run_current = 0.6
uart_address = 3
interpolate = True
stealthchop_threshold = 400

[heater_bed]
heater_pin = PA2
sensor_type = EPCOS 100K B57560G104F
sensor_pin = PA3
control = pid
pid_kp = 54.027
pid_ki = 0.770
pid_kd = 948.182
min_temp = 0
max_temp = 130

[probe]
pin = PD13
x_offset = 27
y_offset = -20
z_offset = 1.000

[filament_switch_sensor my_sensor]
switch_pin = PD11

[safe_z_home]
home_xy_position = 83,130
speed = 100
z_hop = 5
z_hop_speed = 5

[z_tilt]
z_positions = -16, 135
	180, 135
points = -16, 135
	180, 135
speed = 200
horizontal_move_z = 5
retries = 20
retry_tolerance = .005

[bed_mesh]
speed = 200
horizontal_move_z = 5
mesh_min = 11,12
mesh_max = 210,205
probe_count = 5,5
algorithm = bicubic
bicubic_tension = 0.3
mesh_pps = 4,4
move_check_distance = 3

[screws_tilt_adjust]
screw1 = -1, 45
screw1_name = front left screw
screw2 = 168, 45
screw2_name = front right screw
screw3 = 168, 215
screw3_name = rear right screw
screw4 = -1, 215
screw4_name = rear left screw
horizontal_move_z = 5.
speed = 200.
screw_thread = CW-M4

[heater_fan hotend_fan]
pin = PE11

[fan]
pin = PE9

[output_pin my_led]
pin = PC4
pwm = 1
value = 1
cycle_time = 5

[fan_generic extruder_partfan]
pin = PE13

[controller_fan Fan_Board]
pin = PD3
fan_speed = 1.0
idle_timeout = 120
heater = heater_bed, extruder
stepper = stepper_x, stepper_y, stepper_z, stepper_z1

[input_shaper]
damping_ratio_x = 0.1
damping_ratio_y = 0.1
shaper_type_x = 2hump_ei
shaper_freq_x = 43.4
shaper_type_y = 2hump_ei
shaper_freq_y = 43.4
=======================
Extruder max_extrude_ratio=0.266081
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
webhooks client 281473660136920: New connection
webhooks client 281473660136920: Client info {'program': 'Moonraker', 'version': 'v0.8.0-23-g18f5ff4-dirty'}
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/serial/by-id/usb-1a86_USB_Serial-if00-port0: [Errno 2] No such file or directory: '/dev/serial/by-id/usb-1a86_USB_Serial-if00-port0'
